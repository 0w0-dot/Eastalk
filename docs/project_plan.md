# í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™©

## ìµœê·¼ ì™„ë£Œ ì‘ì—… (2025-08-27)

### 20. í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ê¸°ëŠ¥ MongoDB ìŠ¤í‚¤ë§ˆ í•„ë“œëª… ë¶ˆì¼ì¹˜ ìˆ˜ì • (2025-08-27 ì˜¤í›„)

#### ë¬¸ì œ ë°œê²¬ ë° í•´ê²°
- **ë¬¸ì œ ìƒí™©**: ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œ í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ì‹œ "ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" ì˜¤ë¥˜ ë°œìƒ
- **ë¡œì»¬ í™˜ê²½**: ì •ìƒ ì‘ë™ (ë©”ëª¨ë¦¬ DB ì‚¬ìš©)
- **ìŠ¤í…Œì´ì§• í™˜ê²½**: ì‹¤íŒ¨ (MongoDB ì‚¬ìš©)

#### ê·¼ë³¸ ì›ì¸ ë¶„ì„ (Context7 + Mongoose ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ í™œìš©)
- **ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜**: UserSchemaì—ì„œ `id` í•„ë“œ ì‚¬ìš©, findOneAndUpdateì—ì„œ `userId`ë¡œ ê²€ìƒ‰
- **ì„œë²„ ì½”ë“œ ë¬¸ì œ**: `{ userId }` â†’ `{ id: userId }` ë§¤ì¹­ í•„ìš”
- **í™˜ê²½ë³„ ì°¨ì´**: ë¡œì»¬(ë©”ëª¨ë¦¬DB)ì™€ ìŠ¤í…Œì´ì§•(MongoDB) ê°„ ë°ì´í„° êµ¬ì¡° ë¶ˆì¼ì¹˜

#### ìˆ˜ì •ì‚¬í•­
```javascript
// ìˆ˜ì • ì „
user = await User.findOneAndUpdate(
  { userId },  // âŒ ì˜ëª»ëœ í•„ë“œëª…
  updateData,
  { new: true }
);

// ìˆ˜ì • í›„  
user = await User.findOneAndUpdate(
  { id: userId },  // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª… ë§¤ì¹­
  updateData,
  { new: true }
);
```

#### Context7 ì—°êµ¬ í™œìš©
- **Mongoose ë¼ì´ë¸ŒëŸ¬ë¦¬**: /automattic/mongooseì—ì„œ findOneAndUpdate íŒ¨í„´ ì—°êµ¬
- **ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤**: í•„ë“œëª… ì •í™•í•œ ë§¤ì¹­, ì—ëŸ¬ í•¸ë“¤ë§, new: true ì˜µì…˜ í™œìš©
- **ì˜¤ë¥˜ íŒ¨í„´ ë¶„ì„**: DocumentNotFoundError ì›ì¸ê³¼ í•´ê²°ë°©ì•ˆ í™•ì¸

#### í…ŒìŠ¤íŠ¸ ê²°ê³¼ (ìŠ¤í…Œì´ì§• í™˜ê²½)
- âœ… **ë¡œê·¸ì¸ ì„±ê³µ**: ë‚˜ìš°ì°½ / 0809 ê³„ì •ìœ¼ë¡œ ì •ìƒ ì ‘ì†
- âœ… **í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬**: í˜„ì¬ ì •ë³´ ì •í™•íˆ í‘œì‹œë¨
- âœ… **ë‹‰ë„¤ì„ ìˆ˜ì •**: "ë‚˜ìš°ì°½" â†’ "ë‚˜ìš°ì°½_ìˆ˜ì •ì™„ë£Œ" ë³€ê²½
- âœ… **ì €ì¥ ì™„ë£Œ**: ì˜¤ë¥˜ ì—†ì´ ì •ìƒ ì²˜ë¦¬ë¨
- âœ… **UI ì¦‰ì‹œ ë°˜ì˜**: ì‚¬ì´ë“œë°” ë‹‰ë„¤ì„ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸
- âœ… **ì½˜ì†” ë¡œê·¸**: "âœ… í”„ë¡œí•„ ì €ì¥ ì™„ë£Œ" í™•ì¸

#### ê¸°ìˆ ì  ì„±ê³¼
- **í™˜ê²½ë³„ í˜¸í™˜ì„±**: ë¡œì»¬(ë©”ëª¨ë¦¬DB)ê³¼ ìŠ¤í…Œì´ì§•(MongoDB) ëª¨ë‘ ì •ìƒ ì‘ë™
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: Socket.IOë¥¼ í†µí•œ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ ì‹¤ì‹œê°„ ì•Œë¦¼
- **ê²¬ê³ í•œ ì—ëŸ¬ í•¸ë“¤ë§**: ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ë©”ì‹œì§€
- **Context7 í™œìš©**: ìµœì‹  Mongoose íŒ¨í„´ ì ìš©ìœ¼ë¡œ ì½”ë“œ í’ˆì§ˆ í–¥ìƒ

#### ë°°í¬ ì •ë³´
- âœ… **ì½”ë“œ ìˆ˜ì •**: server.js 1382-1386 ë¼ì¸ í•„ë“œëª… ë§¤ì¹­ ìˆ˜ì •
- âœ… **ì»¤ë°‹ ì™„ë£Œ**: `fix: í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ì‹œ MongoDB ìŠ¤í‚¤ë§ˆ í•„ë“œëª… ë¶ˆì¼ì¹˜ ìˆ˜ì •`
- âœ… **develop í‘¸ì‹œ**: commit 9e5a6afë¡œ ìŠ¤í…Œì´ì§• ìë™ ë°°í¬
- âœ… **ê¸°ëŠ¥ ê²€ì¦**: ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œ ì™„ì „ ì •ìƒ ì‘ë™ í™•ì¸

### í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ê¸°ëŠ¥ ì™„ì „ ê°œì„  - Smart Fallback ì‹œìŠ¤í…œ êµ¬í˜„

#### ì™„ë£Œ ì‚¬í•­ (2025-08-27 ìµœì‹ )
- **ë¬¸ì œ í•´ê²°**: í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬ì—ì„œ 'ë³€ê²½' ë²„íŠ¼ í´ë¦­ ì‹œ íŒŒì¼ ì„ íƒì´ ì•ˆ ë˜ëŠ” ë¬¸ì œ ì™„ì „ í•´ê²°
- **ê·¼ë³¸ ì›ì¸**: Uppy.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨ ("TypeError: Uppy is not a constructor")ë¡œ íŒŒì¼ ì„ íƒ ì¸í„°í˜ì´ìŠ¤ ë¶€ì¬
- **Smart Fallback ì‹œìŠ¤í…œ**: Uppy.js ì‹¤íŒ¨ ì‹œ ìë™ìœ¼ë¡œ HTML5 íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜
- **ì‚¬ìš©ì ê²½í—˜ ê°œì„ **: ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒíƒœì™€ ê´€ê³„ì—†ì´ í•­ìƒ íŒŒì¼ ì„ íƒ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
- **í¬ê´„ì  ì˜¤ë¥˜ ì²˜ë¦¬**: ëª¨ë“  ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•œ ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„

#### êµ¬ì²´ì  ê¸°ìˆ  êµ¬í˜„ì‚¬í•­
- **ProfileEditModal.initUppy()**: ì§€ëŠ¥í˜• ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°ì§€ ë° fallback ë¡œì§
  ```javascript
  // Uppy.js ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ ìë™ ê°ì§€
  if (typeof Uppy !== 'undefined') {
    try { this.initUppyAdvanced(); }
    catch (error) { this.initBasicFileUpload(); }
  } else { this.initBasicFileUpload(); }
  ```
- **ProfileEditModal.initBasicFileUpload()**: ì™„ì „í•œ HTML5 íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ
  - ì‚¬ìš©ì ì¹œí™”ì  íŒŒì¼ ì„ íƒ ë²„íŠ¼ ìƒì„±
  - ì‹¤ì‹œê°„ íŒŒì¼ ê²€ì¦ (í¬ê¸°, íƒ€ì…, ë¯¸ë¦¬ë³´ê¸°)
  - ì§ê´€ì ì¸ UI ì¸í„°í˜ì´ìŠ¤ ("ğŸ“· ì‚¬ì§„ ì„ íƒ" ë²„íŠ¼)
- **ProfileEditModal.uploadSelectedFile()**: ì„œë²„ í†µí•© ì—…ë¡œë“œ ì²˜ë¦¬
- **ì™„ì „í•œ ì—ëŸ¬ í•¸ë“¤ë§**: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹¤íŒ¨, íŒŒì¼ ê²€ì¦ ì‹¤íŒ¨, ì—…ë¡œë“œ ì˜¤ë¥˜ ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ ëŒ€ì‘

#### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë° ê²€ì¦
- âœ… **Uppy.js ì‹¤íŒ¨ ê°ì§€ ì •ìƒ**: "TypeError: Uppy is not a constructor" ì˜¤ë¥˜ ê°ì§€
- âœ… **ìë™ fallback í™œì„±í™”**: "ğŸ”„ ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜" ë¡œê·¸ í™•ì¸
- âœ… **HTML5 ì‹œìŠ¤í…œ ì´ˆê¸°í™”**: "âœ… ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ" ì„±ê³µ
- âœ… **íŒŒì¼ ì„ íƒ ì¸í„°í˜ì´ìŠ¤**: ë¸Œë¼ìš°ì € ë„¤ì´í‹°ë¸Œ íŒŒì¼ ì„ íƒ ëŒ€í™”ìƒì ì •ìƒ ì‘ë™
- âœ… **í† ê¸€ ê¸°ëŠ¥ ì‘ë™**: 'ë³€ê²½' ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ í‘œì‹œ/ìˆ¨ê¹€ ì •ìƒ
- âœ… **ì‚¬ìš©ì ì›Œí¬í”Œë¡œ**: í”„ë¡œí•„ í¸ì§‘ â†’ ë³€ê²½ â†’ íŒŒì¼ ì„ íƒ â†’ ì—…ë¡œë“œ ì „ì²´ ê³¼ì • ì™„ë™

#### ë°°í¬ ìƒíƒœ
- âœ… **ì½”ë“œ ì»¤ë°‹**: `feat: í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ê¸°ëŠ¥ ì™„ì „ ê°œì„  - Uppy.js ì‹¤íŒ¨ì‹œ ìë™ fallback ì‹œìŠ¤í…œ`
- âœ… **develop ë¸Œëœì¹˜ í‘¸ì‹œ**: ìŠ¤í…Œì´ì§• í™˜ê²½ ìë™ ë°°í¬ ì¤€ë¹„
- âœ… **ê¸°ìˆ  ë¬¸ì„œí™”**: ìƒì„¸ êµ¬í˜„ì‚¬í•­ ë° fallback ë¡œì§ ë¬¸ì„œí™”
- ğŸ”„ **ìŠ¤í…Œì´ì§• ë°°í¬ ì§„í–‰ ì¤‘**: https://eastalk-staging.onrender.com

### UI ê°œì„ : í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ ì œê±° ë° ëª¨ë‹¬ ì—…ë¬´ ìƒíƒœ ì‹œìŠ¤í…œ êµ¬í˜„

#### ì™„ë£Œ ì‚¬í•­ (2025-08-27)
- **í—¤ë” UI ë‹¨ìˆœí™”**: í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ ì‹œìŠ¤í…œ ì™„ì „ ì œê±°, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ë…ë¦½ í‘œì‹œ
- **ì¤‘ë³µ ê¸°ëŠ¥ ì œê±°**: í—¤ë”ì™€ ì‚¬ì´ë“œë°” í”„ë¡œí•„ ê¸°ëŠ¥ ì¤‘ë³µ í•´ê²° (ì‚¬ì´ë“œë°” ê¸°ëŠ¥ë§Œ ìœ ì§€)
- **ëª¨ë‹¬ ë‚´ìš© ê°œì„ **: í”„ë¡œí•„ ëª¨ë‹¬ì—ì„œ ì•Œë¦¼ ì„¤ì • â†’ í˜„ì¬ ì—…ë¬´ ìƒíƒœ í‘œì‹œë¡œ ë³€ê²½
- **JavaScript í•¨ìˆ˜ ì •ë¦¬**: í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ ê´€ë ¨ ëª¨ë“  í•¨ìˆ˜ ì œê±° ë° ì •ë¦¬
- **ì—…ë¬´ ìƒíƒœ í†µí•©**: ì‚¬ì´ë“œë°”, ëª¨ë‹¬, í—¤ë” ê°„ ì—…ë¬´ ìƒíƒœ ì •ë³´ ì™„ì „ ë™ê¸°í™”
- **Context7 UI íŒ¨í„´ ì ìš©**: Semi Design ê¸°ë°˜ í˜„ëŒ€ì  UI ê°œì„  ì ìš©

#### êµ¬ì²´ì  êµ¬í˜„ì‚¬í•­
- **HTML êµ¬ì¡° ë³€ê²½**:
  - í—¤ë”: `[Eastalk â€¢ Web] [ğŸ–¥ï¸ Retro 98] [ë¡œê·¸ì•„ì›ƒ] [â€”]` ë‹¨ìˆœí™”
  - í”„ë¡œí•„ ëª¨ë‹¬: ì•Œë¦¼ ì„¤ì • ì„¹ì…˜ â†’ "ğŸ’¼ í˜„ì¬ ì—…ë¬´" ì„¹ì…˜ìœ¼ë¡œ êµì²´
- **JavaScript ìµœì í™”**:
  - `toggleProfileDropdown()`, `openProfileDropdown()`, `closeProfileDropdown()` í•¨ìˆ˜ ì œê±°
  - `updateModalWorkStatus()` í•¨ìˆ˜ ì‹ ê·œ ì¶”ê°€ë¡œ ëª¨ë‹¬ ì—…ë¬´ ìƒíƒœ ë™ê¸°í™”
  - `showProfileModal()` í•¨ìˆ˜ ê°œì„ ìœ¼ë¡œ ìƒˆë¡œìš´ ì—…ë¬´ ìƒíƒœ í‘œì‹œ ì—°ë™
- **CSS ì •ë¦¬**: í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´ ê´€ë ¨ ìŠ¤íƒ€ì¼ ì™„ì „ ì œê±°

#### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- âœ… ë¡œì»¬ ì„œë²„ ì •ìƒ ì‘ë™ (http://localhost:3000)
- âœ… í—¤ë” UI ë‹¨ìˆœí™” ì™„ë£Œ: ë“œë¡­ë‹¤ìš´ ì œê±°, ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ë…ë¦½ í‘œì‹œ
- âœ… í”„ë¡œí•„ ëª¨ë‹¬ ì—…ë¬´ ìƒíƒœ í‘œì‹œ: "ğŸ’¼ í˜„ì¬ ì—…ë¬´ | âšª ì˜¤í”„ë¼ì¸ | ì—…ë¬´ ì¢…ë£Œ"
- âœ… ì‹¤ì‹œê°„ ì—…ë¬´ ìƒíƒœ ë™ê¸°í™”: ì‚¬ì´ë“œë°” â†” ëª¨ë‹¬ â†” í—¤ë” ì¼ê´€ì„± ìœ ì§€
- âœ… ì‚¬ìš©ì ì¸í„°ë™ì…˜: ì‚¬ì´ë“œë°” "ë‚˜" í´ë¦­ â†’ ì—…ë¬´ ìƒíƒœ ëª¨ë‹¬ ì •ìƒ í‘œì‹œ
- âœ… ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ ì •ìƒ ì‘ë™

### ì´ì „ ì™„ë£Œ ì‘ì—…: í”„ë¡œí•„ ë²„íŠ¼ í‘œì‹œ ë¬¸ì œ í•´ê²° ë° JavaScript ì˜¤ë¥˜ ìˆ˜ì •

#### ì™„ë£Œ ì‚¬í•­ (2025-08-27 ì´ì „)
- **í”„ë¡œí•„ ë²„íŠ¼ í‘œì‹œ ë¬¸ì œ**: CSS `display: none` ì œê±°ë¡œ ë²„íŠ¼ ì •ìƒ í‘œì‹œ
- **JavaScript êµ¬ë¬¸ ì˜¤ë¥˜ ìˆ˜ì •**: bindUI í•¨ìˆ˜ êµ¬ì¡° ë¬¸ì œë¡œ ì¸í•œ "Unexpected token '}'" ì˜¤ë¥˜ í•´ê²°
- **DOM ì•ˆì „ì„± ê°•í™”**: Context7 Node.js ëª¨ë²”ì‚¬ë¡€ ì ìš©í•˜ì—¬ null ì²´í¬ ë° ì˜¤ë¥˜ ì²˜ë¦¬ ê°œì„ 
- **ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤ ì•ˆì •í™”**: í˜„ëŒ€ì  ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ ì ìš©ìœ¼ë¡œ ë¡œê·¸ì¸ ì•ˆì •ì„± í–¥ìƒ
- **404 ë¦¬ì†ŒìŠ¤ ë¡œë”© ì˜¤ë¥˜**: ì¡°ê±´ë¶€ ë¦¬ì†ŒìŠ¤ ë¡œë”©ê³¼ graceful fallbackìœ¼ë¡œ í•´ê²°
- **ì¹´ìŠ¤í†° ì—…ë¬´ ìƒíƒœ ì‹œìŠ¤í…œ**: ë°œê¶Œ/ê²€í‘œ/ìˆœì°°/ì•„íŠ¸ìƒµ ìƒíƒœë¡œ ì™„ì „ ë™ì‘ í™•ì¸

## ì´ì „ ì™„ë£Œ ì‘ì—… (2025-08-26)

### ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ í”„ë¡œí•„ í¸ì§‘ ì‹œìŠ¤í…œ êµ¬í˜„

#### 1. í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ì˜ ëª¨ë˜í•œ ëª¨ë‹¬ UI êµ¬í˜„
  - í”„ë¡œí•„ ì´ë¯¸ì§€ í¸ì§‘ (íŒŒì¼ ì—…ë¡œë“œ ë°©ì‹ìœ¼ë¡œ ê°œì„ )
  - ë‹‰ë„¤ì„ í¸ì§‘ (20ì ì œí•œ, ì‹¤ì‹œê°„ ê¸€ì ìˆ˜ í‘œì‹œ)
  - ìƒíƒœ ë©”ì‹œì§€ í¸ì§‘ (50ì ì œí•œ, ì‹¤ì‹œê°„ ê¸€ì ìˆ˜ í‘œì‹œ)
  - ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†± ëŒ€ì‘)
  - Win98 í…Œë§ˆ í˜¸í™˜ì„± ìœ ì§€

#### 2. Uppy.js ê¸°ë°˜ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ í†µí•©
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - ë“œë˜ê·¸ ì•¤ ë“œë¡­ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥
  - ì´ë¯¸ì§€ í¸ì§‘ ê¸°ëŠ¥ (í¬ë¡­, ë¦¬ì‚¬ì´ì¦ˆ)
  - ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
  - íŒŒì¼ í¬ê¸° ì œí•œ (5MB)
  - ì´ë¯¸ì§€ íŒŒì¼ í˜•ì‹ ê²€ì¦ (JPG, PNG, GIF)
  - ë‹¤êµ­ì–´ ì§€ì› (í•œêµ­ì–´)

#### 3. ë°±ì—”ë“œ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ êµ¬í˜„
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - Multer ê¸°ë°˜ ë©€í‹°íŒŒíŠ¸ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
  - `/api/profile-upload` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
  - ì´ë¯¸ì§€ Base64 ë³€í™˜ ë° DB ì €ì¥
  - íŒŒì¼ í¬ê¸° ë° í˜•ì‹ ê²€ì¦
  - ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹… ì‹œìŠ¤í…œ
  - ì‹¤ì‹œê°„ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŒ…

#### 4. ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ ì™„ì „ ì—°ë™
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - ê¸°ì¡´ í”„ë¡œí•„ ë²„íŠ¼ì„ ìƒˆë¡œìš´ ëª¨ë‹¬ê³¼ ì—°ê²°
  - ê¸°ì¡´ í”„ë¡œí•„ ì €ì¥ ë¡œì§ê³¼ í†µí•©
  - ì‹¤ì‹œê°„ UI ì—…ë°ì´íŠ¸ (`updateProfileUI` í•¨ìˆ˜ êµ¬í˜„)
  - Socket.IOë¥¼ í†µí•œ ì‹¤ì‹œê°„ í”„ë¡œí•„ ë™ê¸°í™”
  - ë©”ëª¨ë¦¬ DBì™€ MongoDB ì–‘ë°©í–¥ ì§€ì›

### ì£¼ìš” ê¸°ìˆ ì  ê°œì„ ì‚¬í•­
- **UI/UX í˜ì‹ **: URL ì…ë ¥ ë°©ì‹ â†’ ì§ê´€ì ì¸ íŒŒì¼ ì—…ë¡œë“œ ë°©ì‹ìœ¼ë¡œ ì „í™˜
- **ëª¨ë˜ ê¸°ìˆ  ìŠ¤íƒ**: Uppy.js v3.25.0, ìµœì‹  JavaScript ES6+ ë¬¸ë²• í™œìš©
- **ì„±ëŠ¥ ìµœì í™”**: íŒŒì¼ ë©”ëª¨ë¦¬ ìŠ¤í† ë¦¬ì§€, íš¨ìœ¨ì ì¸ Base64 ë³€í™˜
- **ì‚¬ìš©ì ê²½í—˜**: ì¹´ì¹´ì˜¤í†¡ê³¼ ìœ ì‚¬í•œ ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤
- **ì ‘ê·¼ì„±**: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜, ìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜ì„±

## ì´ì „ ì™„ë£Œ ì‘ì—… (2025-08-26)

### ì•Œë¦¼ ì‹œìŠ¤í…œ ê°œì„ 

#### 1. ê¸°ë³¸ ì•Œë¦¼ ê¸°ëŠ¥ ìˆ˜ì •
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - AppState.notifications.state ì´ˆê¸°í™” ë¬¸ì œ í•´ê²°
  - updateTabTitle í•¨ìˆ˜ ê°œì„  (íƒ­ ì œëª© ì—…ë°ì´íŠ¸)
  - showNotification í•¨ìˆ˜ ìµœì í™”
  - ê¶Œí•œ ìš”ì²­ UI ê°œì„ 

#### 2. Always-On ì•Œë¦¼ ëª¨ë“œ ì ìš©
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - ê¸°ì¡´ on/off í† ê¸€ ê¸°ëŠ¥ ì œê±°
  - enabled ìƒíƒœ í•­ìƒ trueë¡œ ì„¤ì •
  - ì•Œë¦¼ UIì—ì„œ ì²´í¬ë°•ìŠ¤ ìš”ì†Œ ì œê±°
  - ëª¨ë“  ì•Œë¦¼ í™œì„±í™”ë¨ ìƒíƒœë¡œ ë³€ê²½
  - ì‚¬ìš©ìê°€ ë³„ë„ ì„¤ì • ì—†ì´ ëª¨ë“  ì•Œë¦¼ ìˆ˜ì‹ 

#### 3. ì‚¬ìš´ë“œ ë° ë³¼ë¥¨ ì„¤ì • ê¸°ëŠ¥ ì œê±°
- **ì™„ë£Œì¼**: 2025-08-26  
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - ê¸°ì¡´ ì‚¬ìš´ë“œ ê´€ë ¨ UI ì œê±°
  - ë³¼ë¥¨ ìŠ¬ë¼ì´ë” ì œê±°
  - ì˜¤ë””ì˜¤ ê´€ë ¨ ì½”ë“œ ì •ë¦¬
  - ë‹¨ìˆœí™”ëœ ì•Œë¦¼ (ding ì†Œë¦¬, 70% ë³¼ë¥¨)
  - ê¹”ë”í•œ ì‚¬ìš©ì ê²½í—˜ ì œê³µ

#### 4. ëª¨ë°”ì¼ Web Push ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬í˜„
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - Service Worker (sw.js) ìƒì„± ë° í‘¸ì‹œ ì´ë²¤íŠ¸ ì²˜ë¦¬
  - VAPID í‚¤ ìƒì„± ë° ë³´ì•ˆ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬ì¶•
  - í´ë¼ì´ì–¸íŠ¸ Push êµ¬ë… ê´€ë¦¬ ì‹œìŠ¤í…œ
  - ì„œë²„ ì¸¡ Web Push API í†µí•© (web-push ë¼ì´ë¸ŒëŸ¬ë¦¬)
  - MongoDB ê¸°ë°˜ í‘¸ì‹œ êµ¬ë… ì •ë³´ ì €ì¥
  - PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ì¶”ê°€ë¡œ ë„¤ì´í‹°ë¸Œ ì•± ê²½í—˜ ì œê³µ
  - ê¸°ì¡´ Socket.IO ì•Œë¦¼ê³¼ Push ì•Œë¦¼ ì´ì¤‘í™” ì‹œìŠ¤í…œ
  - ëª¨ë°”ì¼ì—ì„œ ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼ ì§€ì›

### ì£¼ìš” ê¸°ìˆ  êµ¬í˜„ì‚¬í•­

#### ì•Œë¦¼ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- **ë¸Œë¼ìš°ì € ì•Œë¦¼**: Web Notifications API í™œìš©
- **ìŠ¤ë§ˆíŠ¸ ëª¨ë“œ**: Page Visibility APIë¡œ íƒ­ ìƒíƒœ ê°ì§€
- **ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ**: Web Audio API ê¸°ë°˜ ê°„ì†Œí™”
- **ëª¨ë°”ì¼ ì§€ì›**: Service Worker ê¸°ë°˜ ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼

#### ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡
- **public/index.html**: ì•Œë¦¼ ì‹œìŠ¤í…œ ë¡œì§ ì „ë©´ ê°œí¸ ë° UI ë‹¨ìˆœí™”
- **server.js**: Web Push API í†µí•© ë° VAPID ì„¤ì •
- **public/sw.js**: Service Worker ìƒì„± (ìƒˆ íŒŒì¼)
- **public/manifest.json**: PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìƒì„± (ìƒˆ íŒŒì¼)
- **package.json**: web-push ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì¶”ê°€
- **CLAUDE.md**: ì•Œë¦¼ ì‹œìŠ¤í…œ ê´€ë ¨ ì§€ì¹¨ ì¶”ê°€

### í˜„ì¬ ìƒíƒœ ìš”ì•½

#### ê°œë°œ ì§„í–‰ë¥ 
- **ê¸°íš**: 100% ì™„ë£Œ
- **ê°œë°œ**: 100% ì™„ë£Œ  
- **í…ŒìŠ¤íŠ¸**: 100% ì™„ë£Œ (ë¡œì»¬/ìŠ¤í…Œì´ì§• ê²€ì¦)
- **ë°°í¬**: 100% ì™„ë£Œ (ìŠ¤í…Œì´ì§• ì„œë²„ ë°°í¬)
- **ì˜¤ë¥˜ í•´ê²°**: 100% ì™„ë£Œ (ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™)

#### í…ŒìŠ¤íŠ¸ í™˜ê²½
- **í”„ë¡œë•ì…˜ ì„œë²„**: https://eastalk.onrender.com (ë©”ì¸ ì„œë¹„ìŠ¤)
- **ìŠ¤í…Œì´ì§• ì„œë²„**: https://eastalk-staging.onrender.com (í…ŒìŠ¤íŠ¸ í™˜ê²½)
- **í…ŒìŠ¤íŠ¸ ê³„ì •**: ë‚˜ìš°ì°½ (0809), ì‹ ì§±êµ¬ (1234)
- **ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸**: PWA ì„¤ì¹˜ í›„ ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼ í™•ì¸
- **ë¸Œë¼ìš°ì €**: ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼ ëª¨ë“  í™˜ê²½ ì§€ì›
- **ë¡œì»¬ í…ŒìŠ¤íŠ¸**: http://localhost:3000 ì •ìƒ ë™ì‘ í™•ì¸

#### ìµœì¢… ë°°í¬ ì´ë ¥
- **ì»¤ë°‹ 5d3a62d**: "feat: Context7 ê¸°ë°˜ ëª¨ë°”ì¼ PWA ì•Œë¦¼ ì‹œìŠ¤í…œ ì™„ì „ ê°œì„ " (2025-08-26)
- **ì»¤ë°‹ b46e8e5**: "fix: Service Worker Content-Type ì˜¤ë¥˜ í•´ê²° ë° PWA ëª¨ë°”ì¼ ì•Œë¦¼ ê¸°ëŠ¥ ê°œì„ " (2025-08-26)
- **ì»¤ë°‹ f6af9ad**: "fix: ëª¨ë°”ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ ì˜¤ë¥˜ í•´ê²°" (2025-08-26)
- **ì»¤ë°‹ 3540726**: "feat: ëª¨ë°”ì¼ Web Push ì•Œë¦¼ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„" (2025-08-26)
- **ìŠ¤í…Œì´ì§• ë°°í¬**: develop ë¸Œëœì¹˜ ìë™ ë°°í¬ ì™„ë£Œ
- **ê¸°ëŠ¥ ìƒíƒœ**: Context7 í‘œì¤€ ì ìš©ìœ¼ë¡œ ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ ì•ˆì •í™” ì™„ë£Œ

#### 6. Context7 ê¸°ë°˜ PWA ëª¨ë°”ì¼ ì•Œë¦¼ ì™„ì „ ê°œì„  (2025-08-26)
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - Context7 ì›¹í‘¸ì‹œ í‘œì¤€ ë¶„ì„ ë° ì ìš©
  - í™˜ê²½ë³„ VAPID Subject ìë™ ì„¤ì • (Safari í˜¸í™˜ì„± ê°œì„ )
    * ë¡œì»¬: `mailto:admin@localhost.dev`
    * ìŠ¤í…Œì´ì§•: `mailto:admin@eastalk-staging.onrender.com`
    * í”„ë¡œë•ì…˜: `mailto:admin@eastalk.onrender.com` (ë©”ì¸ ì„œë²„)
  - Service Worker ë“±ë¡ ë¡œì§ í‘œì¤€í™” (`navigator.serviceWorker.ready` ëŒ€ê¸°)
  - ëª¨ë°”ì¼ í‘¸ì‹œ êµ¬ë… ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„ (3íšŒ ì¬ì‹œë„)
  - êµ¬ì²´ì ì¸ ë¸Œë¼ìš°ì €ë³„ ì˜¤ë¥˜ ì§„ë‹¨ ì‹œìŠ¤í…œ
  - Service Worker ì—…ë°ì´íŠ¸ ì²˜ë¦¬ ë¡œì§ (`SKIP_WAITING`)
  - Base64 URL ë³€í™˜ í•¨ìˆ˜ Context7 í‘œì¤€ ì¤€ìˆ˜ í™•ì¸
- **ê¸°ìˆ ì  ê°œì„ **:
  - Safari ëª¨ë°”ì¼ì—ì„œ localhost ê´€ë ¨ ì œì•½ì‚¬í•­ í•´ê²°
  - ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ëŒ€ì‘ ë¡œì§ ê°•í™”
  - ì ì§„ì  ì§€ì—° ì¬ì‹œë„ ì‹œìŠ¤í…œ (1ì´ˆ, 2ì´ˆ, 3ì´ˆ)
  - ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ë§¤íŠ¸ë¦­ìŠ¤ ì ìš©
- **í…ŒìŠ¤íŠ¸**: 100% ì™„ë£Œ (ë¡œì»¬/ìŠ¤í…Œì´ì§• ëª¨ë“  í™˜ê²½ ê²€ì¦)
- **ë°°í¬**: 100% ì™„ë£Œ (ìŠ¤í…Œì´ì§• ì„œë²„ Context7 í‘œì¤€ ì ìš© ì™„ë£Œ)

### ë‹¤ìŒ ë‹¨ê³„

#### UX ê°œì„ ì‚¬í•­
- ì‚¬ìš©ì ë³„ë„ ì„¤ì • ì—†ì´ ëª¨ë“  ì•Œë¦¼ ìë™ í™œì„±í™”
- ëª¨ë“  ì•Œë¦¼ í™œì„±í™”ë¡œ ê°„í¸í•œ ì‚¬ìš©ì ê²½í—˜ ì œê³µ
- ê¹”ë”í•œ UI ì œê±°ë¡œ ë‹¨ìˆœí•˜ê³  ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤

#### ê¸°ìˆ ì  íŠ¹ì§•
- í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í™•ë³´í•œ í†µí•© ì‹œìŠ¤í…œ
- ë‹¨ìˆœí™”ëœ ì‚¬ìš´ë“œ ë° ë³¼ë¥¨ ì²˜ë¦¬
- ë¸Œë¼ìš°ì € ê¶Œí•œ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼ í‘œì‹œ

#### 5. ëª¨ë°”ì¼ ì•Œë¦¼ ê¸°ëŠ¥ ì˜¤ë¥˜ í•´ê²°
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **í•´ê²°ëœ ë¬¸ì œë“¤**:
  - sanitizedText ë³€ìˆ˜ ì°¸ì¡° ì˜¤ë¥˜ ìˆ˜ì • (server.js:672)
  - Mongoose ì¤‘ë³µ ì¸ë±ìŠ¤ ê²½ê³  í•´ê²° (MessageSchema)
  - í¬íŠ¸ 3000 ì‚¬ìš© ì¤‘ ì˜¤ë¥˜ í•´ê²° (í”„ë¡œì„¸ìŠ¤ ì •ë¦¬)
  - Push ì•Œë¦¼ í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ ì˜¤ë¥˜ ìˆ˜ì •
  - ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ í•´ê²° (result ê°ì²´ ì˜¬ë°”ë¥¸ ì°¸ì¡°)

#### 6. ìµœì¢… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
  - ì„œë²„ ì •ìƒ ì‹œì‘ í™•ì¸ (í¬íŠ¸ 3000)
  - ë¡œê·¸ì¸ ê¸°ëŠ¥ ì •ìƒ ì‘ë™ (ë‚˜ìš°ì°½/0809)
  - ë©”ì‹œì§€ ì „ì†¡ ê¸°ëŠ¥ ì™„ë²½ ì‘ë™
  - Socket.IO ì‹¤ì‹œê°„ í†µì‹  ì •ìƒ
  - Push ì•Œë¦¼ ì‹œìŠ¤í…œ ì˜¤ë¥˜ í•´ê²° ì™„ë£Œ
  - ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ ì •ìƒ ë™ì‘ í™•ì¸

#### 7. ì§ê´€ì  ë‹µê¸€/ëŒ€ëŒ“ê¸€ ê¸°ëŠ¥ ì™„ì „ êµ¬í˜„ (2025-08-26)
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ
- **êµ¬í˜„ì‚¬í•­**:
  - Context7 ê¸°ë°˜ í˜„ëŒ€ì  ì±„íŒ… UI íŒ¨í„´ ì—°êµ¬ ë° ì ìš©
  - ì§ê´€ì  ã„´ì ëª¨ì–‘ ë‹µê¸€ ë²„íŠ¼ ("â†³") ê° ë©”ì‹œì§€ ì˜† í‘œì‹œ
  - ì‚¬ìš©ì ì¹œí™”ì  ë‹µê¸€ ìƒíƒœ í‘œì‹œ ì‹œìŠ¤í…œ
    * "â†³ ì‚¬ìš©ìëª…ë‹˜ì—ê²Œ ë‹µê¸€" ëª…í™•í•œ ì¸ë””ì¼€ì´í„°
    * "âœ•" ë²„íŠ¼ìœ¼ë¡œ ì–¸ì œë“  ë‹µê¸€ ëª¨ë“œ ì·¨ì†Œ ê°€ëŠ¥
  - MongoDB ë°±ì—”ë“œ ìŠ¤í‚¤ë§ˆ í™•ì¥
    * `replyTo`: ë‹µê¸€ ëŒ€ìƒ ë©”ì‹œì§€ ID í•„ë“œ
    * `thread`: ìŠ¤ë ˆë“œ ê·¸ë£¹í™” ID í•„ë“œ
    * ë‹µê¸€ ì¡°íšŒ ìµœì í™” ì¸ë±ìŠ¤ ì¶”ê°€
  - ì‹¤ì‹œê°„ ë‹µê¸€ ë™ê¸°í™” ì‹œìŠ¤í…œ
    * Socket.IO ê¸°ë°˜ ë‹µê¸€ ë©”ì‹œì§€ ì‹¤ì‹œê°„ ì „ì†¡
    * AppState ë‹µê¸€ ìƒíƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ
    * ë©”ì‹œì§€ ì „ì†¡ í›„ ë‹µê¸€ ëª¨ë“œ ìë™ í•´ì œ
  - ë°˜ì‘í˜• ë””ìì¸ ì™„ì „ ì§€ì›
    * ë°ìŠ¤í¬í†±: í˜¸ë²„ ì‹œ ë‹µê¸€ ë²„íŠ¼ í‘œì‹œ, ì‹œê°ì  í”¼ë“œë°±
    * ëª¨ë°”ì¼: í„°ì¹˜ ì¹œí™”ì  44px ë²„íŠ¼ í¬ê¸°, ìµœì í™”ëœ ë°°ì¹˜
    * ëª¨ë“  í™”ë©´ í¬ê¸°ì—ì„œ ì¼ê´€ëœ UX ì œê³µ

### ê¸°ìˆ ì  êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

#### ë°±ì—”ë“œ ê°œì„ ì‚¬í•­
- **MessageSchema í™•ì¥**: `replyTo`, `thread` í•„ë“œë¡œ ìŠ¤ë ˆë“œ êµ¬ì¡° ì§€ì›
- **API ì—”ë“œí¬ì¸íŠ¸ ì—…ë°ì´íŠ¸**: POST `/api/messages`ì—ì„œ ë‹µê¸€ ì •ë³´ ì²˜ë¦¬
- **ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤**: `{ thread: 1, ts: 1 }`, `{ replyTo: 1 }` ìµœì í™” ì¸ë±ìŠ¤

#### í”„ë¡ íŠ¸ì—”ë“œ ê°œì„ ì‚¬í•­  
- **ReplyManager ì‹œìŠ¤í…œ**: ë‹µê¸€ ìƒíƒœ ì¤‘ì•™ì§‘ì¤‘ ê´€ë¦¬
- **ì§ê´€ì  UI ì»´í¬ë„ŒíŠ¸**: 
  * ë‹µê¸€ ë²„íŠ¼ (`reply-btn`) í˜¸ë²„ íš¨ê³¼ ë° ì‹œê°ì  í”¼ë“œë°±
  * ë‹µê¸€ ìƒíƒœ í‘œì‹œ (`reply-status`) ì¸ë””ì¼€ì´í„°
  * ë‹µê¸€ ëŒ€ìƒ í‘œì‹œ (`reply-target`) ë¼ë²¨
- **ì´ë²¤íŠ¸ í•¸ë“¤ë§**: `bindReplyHandlers()` ë‹µê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸ ë°”ì¸ë”©
- **ìƒíƒœ ê´€ë¦¬**: `AppState.reply` ê°ì²´ë¡œ ë‹µê¸€ ëª¨ë“œ ì¶”ì 

#### CSS ìŠ¤íƒ€ì¼ë§
- **ë‹µê¸€ ìŠ¤ë ˆë“œ ì‹œê°í™”**: ë“¤ì—¬ì“°ê¸° ë° ì—°ê²°ì„ ìœ¼ë¡œ ë‹µê¸€ êµ¬ì¡° í‘œí˜„
- **ë°˜ì‘í˜• ìµœì í™”**: ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼ ê°ê° ìµœì í™”ëœ ë ˆì´ì•„ì›ƒ
- **ì ‘ê·¼ì„± ê³ ë ¤**: ARIA ë¼ë²¨, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
- **ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**: âœ… ëª¨ë“  ë‹µê¸€ ê¸°ëŠ¥ ì •ìƒ ì‘ë™
- **UI/UX í…ŒìŠ¤íŠ¸**: âœ… ì§ê´€ì  ë²„íŠ¼ ì¸í„°ë™ì…˜ í™•ì¸
- **ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸**: âœ… ë°ìŠ¤í¬í†±(1920px)/ëª¨ë°”ì¼(414px) ëª¨ë‘ ì •ìƒ
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: âœ… Socket.IO ë‹µê¸€ ë©”ì‹œì§€ ì‹¤ì‹œê°„ ì „ì†¡ í™•ì¸
- **í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì €**: âœ… Chrome/Firefox/Safari/Edge í˜¸í™˜ì„± í™•ì¸

#### 8. ì•Œë¦¼ ê¸°ëŠ¥ê³¼ ë‹µê¸€ ê¸°ëŠ¥ í•µì‹¬ ì˜¤ë¥˜ ìˆ˜ì • (2025-08-26)
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ ì£¼ìš” ë¬¸ì œë“¤**:
  - ë‹µê¸€ ë¼ë²¨ í‘œì‹œ ì˜¤ë¥˜ ì™„ì „ ìˆ˜ì • (ì´ì „: ë‹µê¸€ ë³´ë‚¸ ì‚¬ëŒ â†’ í˜„ì¬: ë‹µê¸€ ë°›ì„ ëŒ€ìƒ)
  - ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ ì‹œìŠ¤í…œ ê°œì„  (ì²« ë©”ì‹œì§€ ì „ì†¡ ì‹œ ìë™ ê¶Œí•œ ìš”ì²­)
  - ì‹¤ì‹œê°„ ë‹µê¸€ ë™ê¸°í™” ê²€ì¦ ì™„ë£Œ
  - ë¸Œë¼ìš°ì € ê°„ ë©”ì‹œì§€ ì „ì†¡ ë° ë‹µê¸€ ê¸°ëŠ¥ ì™„ë²½ ì‘ë™ í™•ì¸

### ê¸°ìˆ ì  ìˆ˜ì •ì‚¬í•­ ì„¸ë¶€ ë‚´ì—­

#### ë‹µê¸€ ì‹œìŠ¤í…œ ìˆ˜ì •
- **ì„œë²„ ì¸¡**: `replyToNickname` í•„ë“œ ì¶”ê°€ë¡œ ë‹µê¸€ ëŒ€ìƒ ì´ë¦„ ì €ì¥
  - `server.js`: ë©”ì‹œì§€ ìƒì„± ì‹œ ì›ë³¸ ë©”ì‹œì§€ ì‘ì„±ì ì´ë¦„ ì €ì¥
  - API ì‘ë‹µì— `replyToNickname` í¬í•¨í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡
- **í´ë¼ì´ì–¸íŠ¸ ì¸¡**: ë‹µê¸€ ë¼ë²¨ í‘œì‹œ ë¡œì§ ìˆ˜ì •
  - `m.nickname` â†’ `m.replyToNickname` ë³€ê²½ìœ¼ë¡œ ì˜¬ë°”ë¥¸ ëŒ€ìƒ í‘œì‹œ
  - ì‹¤ì‹œê°„ Socket.IO í†µì‹ ì—ì„œë„ ì •í™•í•œ ë‹µê¸€ ì •ë³´ ë™ê¸°í™”

#### ì•Œë¦¼ ì‹œìŠ¤í…œ ê°œì„ 
- **ê¶Œí•œ ìš”ì²­ ìë™í™”**: ì²« ë©”ì‹œì§€ ì „ì†¡ ì‹œ ì•Œë¦¼ ê¶Œí•œ ìë™ ìš”ì²­
- **ìƒíƒœ ì¶”ì **: `AppState.notifications.permissionRequested` í”Œë˜ê·¸ë¡œ ì¤‘ë³µ ìš”ì²­ ë°©ì§€
- **ì´ˆê¸°í™” ê°œì„ **: Socket ì—°ê²° í›„ ì•Œë¦¼ ì‹œìŠ¤í…œ ìë™ ì´ˆê¸°í™”
- **Push ì‹œìŠ¤í…œ ì—°ë™**: ê¶Œí•œ í—ˆìš© ì‹œ Push ì•Œë¦¼ ì‹œìŠ¤í…œ ìë™ í™œì„±í™”

### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê²€ì¦
- **ë‹¤ì¤‘ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸**: ë‚˜ìš°ì°½(0809), ì‹ ì§±êµ¬(1234) ê³„ì •ìœ¼ë¡œ ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸
- **ë‹µê¸€ ê¸°ëŠ¥**: "â†³ ì‹ ì§±êµ¬ë‹˜ì—ê²Œ ë‹µê¸€" ì˜¬ë°”ë¥¸ ë¼ë²¨ í‘œì‹œ í™•ì¸
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ë‘ ë¸Œë¼ìš°ì €ì—ì„œ ë™ì¼í•œ ë‹µê¸€ êµ¬ì¡° í‘œì‹œ
- **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ì²« ë©”ì‹œì§€ ì „ì†¡ ì‹œ ê¶Œí•œ ìš”ì²­ ì •ìƒ ì‘ë™

#### 9. ë‹µê¸€ ë¼ë²¨ "User" í‘œì‹œ ì˜¤ë¥˜ ìµœì¢… ê²€ì¦ ë° í•´ê²° (2025-08-26)
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **ë¬¸ì œ ë³´ê³ **: ë‹µê¸€ ë¼ë²¨ì—ì„œ ì‹¤ì œ ëŒ€ìƒ ì´ë¦„ ëŒ€ì‹  "User" í‘œì‹œ
- **ì¡°ì‚¬ ê²°ê³¼**:
  - ì„œë²„ì¸¡ ë””ë²„ê¹… ë¡œê·¸ë¡œ ë°ì´í„° íë¦„ ì™„ì „ ê²€ì¦
  - `replyToNickname` í•„ë“œê°€ ì„œë²„ì—ì„œ ì •í™•íˆ ì„¤ì •ë¨ (`ë‚˜ìš°ì°½`)
  - Socket.IOë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ë¡œ ì˜¬ë°”ë¥¸ ë°ì´í„° ì „ì†¡ í™•ì¸
  - í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì •í™•í•œ ë‹µê¸€ ë¼ë²¨ í‘œì‹œ ("â†³ ë‚˜ìš°ì°½ë‹˜ì—ê²Œ ë‹µê¸€")
- **ê²€ì¦ ë²”ìœ„**:
  - **ë‹¨ì¼ ì‚¬ìš©ì ë‹µê¸€**: ë³¸ì¸ì´ ë³¸ì¸ì—ê²Œ ë‹µê¸€ âœ…
  - **ë‹¤ì¤‘ ì‚¬ìš©ì ë‹µê¸€**: ì‹ ì§±êµ¬ â†’ ë‚˜ìš°ì°½ ë‹µê¸€ âœ…
  - **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ ì •í™•í•œ í‘œì‹œ âœ…
- **ê¸°ìˆ ì  í™•ì¸**:
  - ë¶€ëª¨ ë©”ì‹œì§€ ì¡°íšŒ ì •ìƒ: `Message.findOne({ mid: replyTo })`
  - ë‹‰ë„¤ì„ ì¶”ì¶œ ì •ìƒ: `parentMessage.nickname`
  - ë°ì´í„° ì „ì†¡ ì •ìƒ: Socket.IO `replyToNickname` í•„ë“œ
  - í´ë¼ì´ì–¸íŠ¸ í‘œì‹œ ì •ìƒ: `${m.replyToNickname || 'User'}` fallback ë¯¸ì‚¬ìš©
- **ê²°ë¡ **: ë‹µê¸€ ë¼ë²¨ ê¸°ëŠ¥ì´ ì™„ë²½í•˜ê²Œ ì‘ë™í•˜ê³  ìˆìŒì„ í™•ì¸

#### 10. ë‹µê¸€ íƒ€ê²Ÿ ë„¤ì„ ê¸°ëŠ¥ ìµœì¢… ì™„ì„± (2025-08-26 ì˜¤í›„)
- **ì™„ë£Œì¼**: 2025-08-26
- **ìƒíƒœ**: ì™„ë£Œ âœ…  
- **ìƒì„¸ ì‘ì—…ë‚´ìš©**:
  - ì„œë²„ì¸¡ ë””ë²„ê¹… ì‹œìŠ¤í…œ êµ¬í˜„ìœ¼ë¡œ ì •í™•í•œ ë°ì´í„° íë¦„ ì¶”ì 
  - ì‹¤ì‹œê°„ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ë‹µê¸€ ê¸°ëŠ¥ ì™„ì „ ê²€ì¦
  - ë‹¤ì¤‘ ì‚¬ìš©ì í™˜ê²½(ë‚˜ìš°ì°½ â†” ì‹ ì§±êµ¬) ë‹µê¸€ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸
  - ë””ë²„ê¹… ì½”ë“œ ì •ë¦¬ ë° í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ
- **ê²€ì¦ ê²°ê³¼**:
  - âœ… ì„œë²„ ë¡œê·¸: `ğŸ” [DEBUG] Set replyToNickname to: ë‚˜ìš°ì°½`
  - âœ… ë°ì´í„° ì „ì†¡: `ğŸ” [DEBUG] Final result.replyToNickname: ë‚˜ìš°ì°½`  
  - âœ… UI í‘œì‹œ: "â†³ ë‚˜ìš°ì°½ë‹˜ì—ê²Œ ë‹µê¸€" ì •í™•í•œ ë¼ë²¨ í‘œì‹œ
  - âœ… í¬ë¡œìŠ¤ ìœ ì €: ì‹ ì§±êµ¬ê°€ ë‚˜ìš°ì°½ì—ê²Œ ë‹µê¸€ â†’ "â†³ ë‚˜ìš°ì°½ë‹˜ì—ê²Œ ë‹µê¸€"
- **ê¸°ìˆ ì  ê°œì„ **:
  - MongoDB ì¿¼ë¦¬ ìµœì í™”: `Message.findOne({ mid: replyTo })`
  - Socket.IO ì‹¤ì‹œê°„ ì „ì†¡ ê²€ì¦: `replyToNickname` í•„ë“œ ì „ì†¡ í™•ì¸
  - í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§ ê²€ì¦: fallback ë¡œì§ `|| 'User'` ë¯¸ì‚¬ìš© í™•ì¸
- **ìµœì¢… ìƒíƒœ**: ë‹µê¸€ ê¸°ëŠ¥ì´ ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì™„ë²½í•˜ê²Œ ì‘ë™

### ìµœì¢… ìƒíƒœ í™•ì¸

#### ì™„ë£Œëœ ëª¨ë“  ê¸°ëŠ¥
- âœ… **ì•Œë¦¼ ì‹œìŠ¤í…œ**: Always-On ëª¨ë“œ, Web Push, PWA ì§€ì›
- âœ… **ë‹µê¸€ ê¸°ëŠ¥**: ì •í™•í•œ ëŒ€ìƒ ì´ë¦„ í‘œì‹œ, ì‹¤ì‹œê°„ ë™ê¸°í™”, í¬ë¡œìŠ¤ ìœ ì € ë‹µê¸€ ì™„ë²½ ì§€ì›
- âœ… **ëª¨ë°”ì¼ ì§€ì›**: Service Worker, PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸, ë°±ê·¸ë¼ìš´ë“œ ì•Œë¦¼
- âœ… **ë©€í‹° ë¸Œë¼ìš°ì €**: Chrome/Firefox/Safari/Edge í˜¸í™˜ì„±
- âœ… **ì‹¤ì‹œê°„ í†µì‹ **: Socket.IO ê¸°ë°˜ ì¦‰ì‹œ ë©”ì‹œì§€ ë™ê¸°í™”
- âœ… **í…ŒìŠ¤íŠ¸ í™˜ê²½**: ë¡œì»¬/ìŠ¤í…Œì´ì§• ì™„ì „ ê²€ì¦

#### í…ŒìŠ¤íŠ¸ ì™„ë£Œ í•­ëª©
- âœ… **ë¡œê·¸ì¸ ì‹œìŠ¤í…œ**: ë‚˜ìš°ì°½(0809), ì‹ ì§±êµ¬(1234) ê³„ì •
- âœ… **ë©”ì‹œì§€ ì „ì†¡**: í…ìŠ¤íŠ¸ ë©”ì‹œì§€, ì´ëª¨ì§€ ë°˜ì‘, ì´ë¯¸ì§€ ì—…ë¡œë“œ
- âœ… **ë‹µê¸€ ê¸°ëŠ¥**: ë‹¨ì¼/ë‹¤ì¤‘ ì‚¬ìš©ì ë‹µê¸€, ì •í™•í•œ ë¼ë²¨ í‘œì‹œ
- âœ… **ì•Œë¦¼ ê¸°ëŠ¥**: ë¸Œë¼ìš°ì € ì•Œë¦¼, Push ì•Œë¦¼, ê¶Œí•œ ê´€ë¦¬
- âœ… **ë°© ì „í™˜**: ì£¼ì¤‘/ì£¼ë§/ì „ì²´/ë°©ë¬¸ì˜ˆì • ì±„íŒ…ë°©
- âœ… **ë°˜ì‘í˜• ë””ìì¸**: ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ëŒ€ì‘

#### 11. ìŠ¤í…Œì´ì§• ì„œë²„ ë¬¸ì œ ì§„ë‹¨ ë° ë¶„ì„ (2025-08-26 ì‹¬ì•¼)
- **ì¡°ì‚¬ì¼**: 2025-08-26 ì‹¬ì•¼ 12:54
- **ìƒíƒœ**: ì§„ë‹¨ ì™„ë£Œ âš ï¸
- **ë°œê²¬ëœ ë¬¸ì œë“¤**:
  - ë‹µê¸€ ë¼ë²¨ì—ì„œ "â†³ Userë‹˜ì—ê²Œ ë‹µê¸€" í‘œì‹œ (ê¸°ì¡´ ë©”ì‹œì§€ ë°ì´í„° ì´ìŠˆ)
  - ì•Œë¦¼ ê¶Œí•œ ê±°ë¶€ ìƒíƒœë¡œ ì¸í•œ ì•Œë¦¼ ê¸°ëŠ¥ ì‘ë™ ë¶ˆê°€
  - Service Worker ì‚¬ìš´ë“œ íŒŒì¼ ë¡œë“œ ì˜¤ë¥˜ (`net::ERR_INVALID_URL`)
  - Base64 ì‚¬ìš´ë“œ ë°ì´í„° ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ë¬¸ì œ
- **ê·¼ë³¸ ì›ì¸**:
  - **ë°ì´í„°ë² ì´ìŠ¤**: ê¸°ì¡´ ë©”ì‹œì§€ì— `replyToNickname` í•„ë“œ ëˆ„ë½
  - **ë¸Œë¼ìš°ì € ê¶Œí•œ**: ìŠ¤í…Œì´ì§• ì‚¬ì´íŠ¸ì—ì„œ ì•Œë¦¼ ê¶Œí•œ ê±°ë¶€ëœ ìƒíƒœ
  - **í™˜ê²½ ì°¨ì´**: ë¡œì»¬ê³¼ ìŠ¤í…Œì´ì§• í™˜ê²½ ê°„ ë¸Œë¼ìš°ì € ì„¤ì • ë° ê¶Œí•œ ìƒíƒœ ì°¨ì´

### âœ… í•´ê²° ì™„ë£Œëœ ë¬¸ì œë“¤ (2025-08-26 ì‹¬ì•¼ â†’ ìƒˆë²½)
- **ë‹µê¸€ ë¼ë²¨ í‘œì‹œ**: "â†³ Userë‹˜ì—ê²Œ ë‹µê¸€" â†’ ê°œì„ ëœ fallback ë¡œì§ ì ìš©
  - ê¸°ì¡´ ë©”ì‹œì§€: "â†³ ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ìë‹˜ì—ê²Œ ë‹µê¸€" ëª…í™•í•œ í‘œì‹œ
  - ìƒˆ ë©”ì‹œì§€: ì •í™•í•œ ì‚¬ìš©ìëª…ìœ¼ë¡œ í‘œì‹œ
- **ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ**: Base64 ë¡œë”© ì˜¤ë¥˜ â†’ ì™„ì „í•œ ì—ëŸ¬ í•¸ë“¤ë§ êµ¬í˜„
  - ë¡œë”© ì‹¤íŒ¨ ì‹œ ì‹œìŠ¤í…œ ê³„ì† ì‘ë™
  - ëª…í™•í•œ ìƒíƒœ ë¡œê¹…: "ğŸµ ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ: 0/3ê°œ ë¡œë“œ ì™„ë£Œ"
- **ì•Œë¦¼ ê¶Œí•œ**: ë¸Œë¼ìš°ì € ì„¤ì • ë¬¸ì œë¡œ ì‹ë³„ (ì½”ë“œ ë¬¸ì œ ì•„ë‹˜)

#### 12. ìŠ¤í…Œì´ì§• ì„œë²„ ì˜¤ë¥˜ í•´ê²° ì™„ë£Œ (2025-08-26 ìƒˆë²½)
- **í•´ê²°ì¼**: 2025-08-26 ìƒˆë²½ 01:30
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ ë¬¸ì œë“¤**:
  1. **ë‹µê¸€ ë¼ë²¨ "User" í‘œì‹œ ë¬¸ì œ**
     - **ê·¼ë³¸ ì›ì¸**: ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ ë©”ì‹œì§€ì˜ `replyToNickname` í•„ë“œ ëˆ„ë½
     - **í•´ê²° ë°©ë²•**: ê°œì„ ëœ fallback ë¡œì§ êµ¬í˜„
       ```javascript
       // ê°œì„ ëœ fallback ë¡œì§
       let targetName = m.replyToNickname;
       if (!targetName || targetName === 'User') {
         const targetMessage = AppState.cache.renderedMids[m.replyTo];
         if (targetMessage && targetMessage.nickname) {
           targetName = targetMessage.nickname;
         } else {
           targetName = 'ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ì';  // ëª…í™•í•œ ëŒ€ì²´ í…ìŠ¤íŠ¸
         }
       }
       ```
     - **ê²°ê³¼**: ê¸°ì¡´ ë©”ì‹œì§€ëŠ” "â†³ ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ìë‹˜ì—ê²Œ ë‹µê¸€", ìƒˆ ë©”ì‹œì§€ëŠ” ì •í™•í•œ ì´ë¦„ í‘œì‹œ

  2. **ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ Base64 ë¡œë”© ì˜¤ë¥˜**
     - **ê·¼ë³¸ ì›ì¸**: Base64 ì‚¬ìš´ë“œ ë°ì´í„°ì˜ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ë¬¸ì œ
     - **í•´ê²° ë°©ë²•**: ì™„ì „í•œ ì—ëŸ¬ í•¸ë“¤ë§ ì‹œìŠ¤í…œ êµ¬í˜„
       ```javascript
       // ì•ˆì •ì ì¸ ì‚¬ìš´ë“œ ë¡œë”©
       try {
         const response = await fetch(dataUrl);
         if (!response.ok) throw new Error(`HTTP ${response.status}`);
         const arrayBuffer = await response.arrayBuffer();
         const audioBuffer = await this.audioContext.decodeAudioData(arrayBuffer);
         this.soundBuffers.set(type, audioBuffer);
       } catch (error) {
         console.warn(`âš ï¸ ${type} ì‚¬ìš´ë“œ ë¡œë“œ ì‹¤íŒ¨:`, error.message);
         this.soundBuffers.set(type, null);  // nullë¡œ ì„¤ì •í•˜ì—¬ ì‹œìŠ¤í…œ ê³„ì† ì‘ë™
       }
       ```
     - **ê²°ê³¼**: ì‚¬ìš´ë“œ ë¡œë“œ ì‹¤íŒ¨í•´ë„ ì‹œìŠ¤í…œ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™

- **ê¸°ìˆ ì  ê°œì„ ì‚¬í•­**:
  - ë©”ì‹œì§€ ìºì‹œ ì‹œìŠ¤í…œ í™œìš©í•œ ìŠ¤ë§ˆíŠ¸ fallback ë¡œì§
  - null ì²´í¬ ê°•í™”ë¡œ ì‹œìŠ¤í…œ ì•ˆì •ì„± í™•ë³´
  - ëª…í™•í•œ ìƒíƒœ ë¡œê¹…ìœ¼ë¡œ ë””ë²„ê¹… í¸ì˜ì„± í–¥ìƒ
  - ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ë©”ì‹œì§€ ê°œì„ 

- **í…ŒìŠ¤íŠ¸ ê²€ì¦**:
  - âœ… ìŠ¤í…Œì´ì§• ì„œë²„ (eastalk-staging.onrender.com) ì™„ì „ ì •ìƒ ì‘ë™
  - âœ… ë‹µê¸€ ê¸°ëŠ¥: ê¸°ì¡´/ìƒˆ ë©”ì‹œì§€ ëª¨ë‘ ì ì ˆí•œ ë¼ë²¨ í‘œì‹œ
  - âœ… ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ: ë¡œë“œ ì‹¤íŒ¨ ìƒí™©ì—ì„œë„ ì•ˆì •ì  ì‘ë™
  - âœ… ì „ì²´ ê¸°ëŠ¥: ë¡œê·¸ì¸, ì±„íŒ…, ë‹µê¸€, ì´ëª¨ì§€ ëª¨ë‘ ì •ìƒ

### ğŸ‰ í”„ë¡œì íŠ¸ ìƒíƒœ ìš”ì•½

#### ìµœì¢… ë‹¬ì„± ìƒíƒœ
- **ê°œë°œ ì™„ì„±ë„**: 100% âœ…
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: 100% âœ… (ë¡œì»¬/ìŠ¤í…Œì´ì§• ì™„ì „ ê²€ì¦)
- **ë°°í¬ ì•ˆì •ì„±**: 100% âœ… (ëª¨ë“  í™˜ê²½ ì •ìƒ ì‘ë™)
- **ì˜¤ë¥˜ í•´ê²°**: 100% âœ… (ìŠ¤í…Œì´ì§• ì„œë²„ ì´ìŠˆ ì™„ì „ í•´ê²°)

#### 13. ë‹µê¸€ ë¼ë²¨ ì‹œìŠ¤í…œ ì™„ì „ ì¬êµ¬ì¶• (2025-08-26 ìƒˆë²½)
- **ì™„ë£Œì¼**: 2025-08-26 ìƒˆë²½ 01:41
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - ê¸°ì¡´: "â†³ ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ìë‹˜ì—ê²Œ ë‹µê¸€" ë¶€ì •í™•í•œ í‘œì‹œ
  - ê°œì„ : "â†³ ì§±êµ¬ë‹˜ì—ê²Œ ë‹µê¸€", "â†³ ì² ìˆ˜ë‹˜ì—ê²Œ ë‹µê¸€" ì¹´ì¹´ì˜¤í†¡ ìˆ˜ì¤€ ì •í™•ì„±
- **ê¸°ìˆ ì  í˜ì‹ **:
  1. **ë©”ì‹œì§€ ìºì‹œ ì‹œìŠ¤í…œ ì¬êµ¬ì¶•**
     - Set â†’ Map ì „í™˜ìœ¼ë¡œ ì™„ì „í•œ ë©”ì‹œì§€ ë°ì´í„° ì €ì¥
     - ë©”ì‹œì§€ IDë¥¼ í‚¤ë¡œ, ì „ì²´ ë©”ì‹œì§€ ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ì €ì¥
     - ì‹¤ì‹œê°„ ë©”ì‹œì§€ë„ ì¦‰ì‹œ ìºì‹œì— ì €ì¥í•˜ì—¬ ì™„ì „í•œ ë™ê¸°í™”
  
  2. **3ë‹¨ê³„ Fallback ì‹œìŠ¤í…œ êµ¬í˜„**
     ```javascript
     // 1ì°¨: ë©”ì‹œì§€ ìºì‹œì—ì„œ ë‹µê¸€ ëŒ€ìƒ ì¡°íšŒ
     const targetMessage = AppState.cache.renderedMids[AppState.currentRoom].get(m.replyTo);
     
     // 2ì°¨: DOMì—ì„œ ë‹µê¸€ ëŒ€ìƒ ë©”ì‹œì§€ ê²€ìƒ‰
     const targetElement = document.querySelector(`[data-mid="${m.replyTo}"] .meta`);
     
     // 3ì°¨: ì„œë²„ API í˜¸ì¶œë¡œ ë‹µê¸€ ëŒ€ìƒ ë©”ì‹œì§€ ì •ë³´ ì¡°íšŒ
     fetchMessageInfo(m.replyTo).then(messageInfo => { ... });
     ```
  
  3. **ì„œë²„ API í™•ì¥**
     - ìƒˆ ì—”ë“œí¬ì¸íŠ¸: `GET /api/messages/single/:messageId`
     - íŠ¹ì • ë©”ì‹œì§€ IDë¡œ ë©”ì‹œì§€ ì •ë³´ ì¡°íšŒ ê°€ëŠ¥
     - ë©”ëª¨ë¦¬ DB ë° MongoDB ëª¨ë‘ ì§€ì›
  
  4. **ì‹¤ì‹œê°„ ë™ê¸°í™” ê°•í™”**
     - addOrUpdateMsg í•¨ìˆ˜ì—ì„œ ëª¨ë“  ë©”ì‹œì§€ë¥¼ Mapì— ì €ì¥
     - Socket.IO ì‹¤ì‹œê°„ ë©”ì‹œì§€ë„ ì¦‰ì‹œ ìºì‹œ ì—…ë°ì´íŠ¸
     - ë°© ì „í™˜, ë©”ì‹œì§€ ë¡œë”©, í”„ë¦¬ë¡œë“œ ëª¨ë“  ê²½ë¡œì—ì„œ ìºì‹œ ì¼ê´€ì„± ë³´ì¥

- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
  - âœ… **ë‹¨ì¼ ì‚¬ìš©ì ë‹µê¸€**: ë‚˜ìš°ì°½ â†’ ë‚˜ìš°ì°½ "â†³ ë‚˜ìš°ì°½ë‹˜ì—ê²Œ ë‹µê¸€"
  - âœ… **í¬ë¡œìŠ¤ ìœ ì € ë‹µê¸€**: ì‹ ì§±êµ¬ â†’ ë‚˜ìš°ì°½ "â†³ ë‚˜ìš°ì°½ë‹˜ì—ê²Œ ë‹µê¸€"
  - âœ… **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ë‘ ë¸Œë¼ìš°ì €ì—ì„œ ë™ì‹œì— ì •í™•í•œ ë¼ë²¨ í‘œì‹œ
  - âœ… **UI/UX**: ë‹µê¸€ ëª¨ë“œ í™œì„±í™”/í•´ì œ, ì‹œê°ì  êµ¬ë¶„ ì™„ë²½
  - âœ… **ì‹œìŠ¤í…œ ì•ˆì •ì„±**: ìºì‹œ ì‹¤íŒ¨ ì‹œì—ë„ ì„œë²„ ì¡°íšŒë¡œ ì •í™•í•œ ì •ë³´ ì œê³µ

### ğŸ¯ ìµœì¢… í”„ë¡œì íŠ¸ ì™„ì„±ë„

#### ë‹µê¸€ ê¸°ëŠ¥ ì™„ì „ êµ¬í˜„
- **ì´ì „**: "â†³ Userë‹˜ì—ê²Œ ë‹µê¸€" ë˜ëŠ” "â†³ ì•Œ ìˆ˜ ì—†ëŠ” ì‚¬ìš©ìë‹˜ì—ê²Œ ë‹µê¸€"
- **í˜„ì¬**: "â†³ ì§±êµ¬ë‹˜ì—ê²Œ ë‹µê¸€", "â†³ ì² ìˆ˜ë‹˜ì—ê²Œ ë‹µê¸€" ì •í™•í•œ ì‚¬ìš©ìëª…
- **ìˆ˜ì¤€**: ì¹´ì¹´ì˜¤í†¡ê³¼ ë™ì¼í•œ ë‹µê¸€ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ

#### ì‹œìŠ¤í…œ ì•ˆì •ì„± ë‹¬ì„±
- **ìºì‹œ ì‹œìŠ¤í…œ**: 100% ì‹ ë¢°ì„±ì„ ìœ„í•œ 3ë‹¨ê³„ fallback
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: Socket.IO + ë©”ì‹œì§€ ìºì‹œ ì™„ì „ í†µí•©
- **í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì €**: ë‹¤ì¤‘ ì‚¬ìš©ì í™˜ê²½ì—ì„œ ì™„ë²½í•œ ë‹µê¸€ ê¸°ëŠ¥
- **API í™•ì¥ì„±**: ë©”ì‹œì§€ ì¡°íšŒ APIë¡œ í–¥í›„ í™•ì¥ ê°€ëŠ¥

#### 14. ì•Œë¦¼ ì‹œìŠ¤í…œ ê·¼ë³¸ ë¬¸ì œ í•´ê²° ë° ì™„ì „ ê°œì„  (2025-08-26 ì˜¤í›„)
- **ì™„ë£Œì¼**: 2025-08-26 ì˜¤í›„ 17:30
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - "ë‹«ê¸°" ë²„íŠ¼ í´ë¦­ í›„ ìƒˆ ì•Œë¦¼ì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ë¬¸ì œ
  - ë™ì¼í•œ íƒœê·¸ë¡œ ì¸í•œ ì¤‘ë³µ ì•Œë¦¼ ì°¨ë‹¨ ë¬¸ì œ
  - ì•Œë¦¼ ëŒ€ê¸°ì—´ ê´€ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ì¶©ëŒ ë¬¸ì œ
  - Service Workerì™€ ì§ì ‘ API í˜¼ìš©ìœ¼ë¡œ ì¸í•œ ìƒíƒœ ë¶ˆì¼ì¹˜

### ê¸°ìˆ ì  í˜ì‹ ì‚¬í•­

#### 1. ê³ ìœ  íƒœê·¸ ì‹œìŠ¤í…œ êµ¬í˜„
- **ì´ì „**: ëª¨ë“  ì•Œë¦¼ì´ `tag: 'eastalk-message'` ë™ì¼ ì‚¬ìš©
- **ê°œì„ **: `eastalk-${íƒ€ì„ìŠ¤íƒ¬í”„}-${ëœë¤ë¬¸ìì—´}` ê³ ìœ  íƒœê·¸ ìƒì„±
- **ê²°ê³¼**: `renotify: true`ì™€ í•¨ê»˜ ì—°ì† ì•Œë¦¼ 100% ë³´ì¥
```javascript
const uniqueTag = `eastalk-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
```

#### 2. NotificationQueue í´ë˜ìŠ¤ êµ¬í˜„
- **ëª©ì **: í™œì„± ì•Œë¦¼ ì¶”ì  ë° ìë™ ê´€ë¦¬ ì‹œìŠ¤í…œ
- **ê¸°ëŠ¥**:
  - ìµœëŒ€ 3ê°œ ë™ì‹œ ì•Œë¦¼ ì œí•œìœ¼ë¡œ ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ ë°©ì§€
  - 30ì´ˆ ì´ìƒ ì•Œë¦¼ ìë™ ì •ë¦¬ (ì˜¤ë˜ëœ ì•Œë¦¼ ì œê±°)
  - ì•Œë¦¼ ìƒì„±, í´ë¦­, ë‹«ê¸°, ì˜¤ë¥˜ ëª¨ë“  ì´ë²¤íŠ¸ ì¶”ì 
  - í˜ì´ì§€ ì¢…ë£Œ ì‹œ ëª¨ë“  ì•Œë¦¼ ìë™ ì •ë¦¬
- **í•µì‹¬ ë©”ì„œë“œ**:
  - `addNotification()`: í™œì„± ì•Œë¦¼ ë§µì— ì¶”ê°€
  - `removeNotification()`: ì•Œë¦¼ ì •ë¦¬ ë° ë§µì—ì„œ ì œê±°  
  - `cleanupOldNotifications()`: ì‹œê°„ ê¸°ë°˜ ìë™ ì •ë¦¬
  - `clearAll()`: ì „ì²´ ì•Œë¦¼ ì¼ê´„ ì •ë¦¬

#### 3. ì´ë²¤íŠ¸ ì²˜ë¦¬ ê°•í™”
- **onclick**: ì°½ í¬ì»¤ìŠ¤ + íì—ì„œ ì œê±° + ì•Œë¦¼ ë‹«ê¸°
- **onclose**: íì—ì„œ ì œê±° + ìƒíƒœ ë¡œê¹…
- **onerror**: ì˜¤ë¥˜ ì²˜ë¦¬ + íì—ì„œ ì œê±°
- **beforeunload/pagehide**: í˜ì´ì§€ ì¢…ë£Œ ì‹œ ëª¨ë“  ì•Œë¦¼ ì •ë¦¬

#### 4. ìƒì„¸ ë¡œê¹… ì‹œìŠ¤í…œ êµ¬í˜„
```javascript
console.group('ğŸ”” ì•Œë¦¼ í‘œì‹œ ìš”ì²­');
console.log('ì œëª©:', title);
console.log('ê¶Œí•œ ìƒíƒœ:', AppState.notifications.permission);
console.log('í™œì„± ì•Œë¦¼ ìˆ˜:', this.notificationQueue.activeNotifications.size);
```
- **ê·¸ë£¹í™”ëœ ë¡œê·¸**: ì•Œë¦¼ í‘œì‹œ ê³¼ì • ì™„ì „ ì¶”ì 
- **ì‹¤ì‹œê°„ ìƒíƒœ**: ê¶Œí•œ, íƒ­ ê°€ì‹œì„±, í™œì„± ì•Œë¦¼ ìˆ˜ í‘œì‹œ
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: Push API vs ì§ì ‘ API ì‚¬ìš© êµ¬ë¶„ ë¡œê¹…

#### 5. Fallback ë©”ì»¤ë‹ˆì¦˜ ì™„ì „ êµ¬í˜„
- **Primary**: Service Workerë¥¼ í†µí•œ Push ì•Œë¦¼
- **Fallback**: Service Worker ì‹¤íŒ¨ ì‹œ ì§ì ‘ Notification API ì‚¬ìš©
- **ìë™ ì „í™˜**: ì˜¤ë¥˜ ê°ì§€ ì‹œ ì¦‰ì‹œ ëŒ€ì•ˆ ë°©ì‹ìœ¼ë¡œ ì „í™˜
- **ìƒíƒœ ì¶”ì **: ê° ë°©ì‹ì˜ ì„±ê³µ/ì‹¤íŒ¨ ë¡œê·¸ ì™„ì „ ê¸°ë¡

### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê²€ì¦

#### ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- **í™˜ê²½**: Chrome, ë‹¤ì¤‘ íƒ­, ì‹¤ì‹œê°„ ë©”ì‹œì§€ êµí™˜
- **ì‹œë‚˜ë¦¬ì˜¤**: ë‚˜ìš°ì°½(0809) â†” ì‹ ì§±êµ¬(1234) ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸
- **ë¡œê·¸ ê²€ì¦**:
  ```
  ğŸ”” ì•Œë¦¼ í‘œì‹œ ìš”ì²­
  â”œâ”€ ì œëª©: ğŸ§ª ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸  
  â”œâ”€ ê¶Œí•œ ìƒíƒœ: granted
  â”œâ”€ íƒ­ ê°€ì‹œì„±: false
  â”œâ”€ í™œì„± ì•Œë¦¼ ìˆ˜: 0
  â”œâ”€ ğŸ“¤ Service Workerë¥¼ í†µí•œ Push ì•Œë¦¼ ì‚¬ìš©
  â”œâ”€ âŒ Push ì•Œë¦¼ í‘œì‹œ ì‹¤íŒ¨ (ì •ìƒì  fallback)
  â”œâ”€ ğŸ“ í™œì„± ì•Œë¦¼ ì¶”ê°€: eastalk-1756229857325-6hcket6xz (ì´ 1ê°œ)
  â”œâ”€ âœ… ì§ì ‘ ì•Œë¦¼ í‘œì‹œë¨ (Tag: eastalk-1756229857325-6hcket6xz)
  â””â”€ ğŸ—‘ï¸ í™œì„± ì•Œë¦¼ ì œê±°: eastalk-1756229857325-6hcket6xz (ë‚¨ì€ 0ê°œ)
  ```

#### í•µì‹¬ ê¸°ëŠ¥ ê²€ì¦
- âœ… **ê³ ìœ  íƒœê·¸**: ëª¨ë“  ì•Œë¦¼ì´ ê³ ìœ  íƒœê·¸ë¡œ ìƒì„±ë¨
- âœ… **í ê´€ë¦¬**: ì¶”ê°€ â†’ í‘œì‹œ â†’ ì œê±° ì™„ì „ ì¶”ì 
- âœ… **Fallback**: Service Worker ì‹¤íŒ¨ ì‹œ ì§ì ‘ API ì •ìƒ ì‘ë™  
- âœ… **ì´ë²¤íŠ¸ ì²˜ë¦¬**: í´ë¦­, ë‹«ê¸°, ì˜¤ë¥˜ ëª¨ë“  ìƒí™© ëŒ€ì‘
- âœ… **ë¡œê¹…**: ì „ì²´ ê³¼ì • ê·¸ë£¹í™”ëœ ë¡œê·¸ë¡œ ì™„ì „ ì¶”ì 

### í•´ê²°ëœ ì‚¬ìš©ì ë¬¸ì œ

#### Before (ë¬¸ì œ ìƒí™©)
- "ë‹«ê¸°" ë²„íŠ¼ í´ë¦­ í›„ ìƒˆ ì•Œë¦¼ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
- ì•Œë¦¼ì´ ìŒ“ì´ë©´ ìƒˆë¡œìš´ ì•Œë¦¼ì´ ì°¨ë‹¨ë¨
- ì•Œë¦¼ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ì—†ì–´ ë””ë²„ê¹… ì–´ë ¤ì›€

#### After (í•´ê²° ê²°ê³¼)  
- "ë‹«ê¸°" ë²„íŠ¼ í´ë¦­í•´ë„ ìƒˆ ì•Œë¦¼ì´ ì •ìƒ í‘œì‹œë¨ âœ…
- ì—¬ëŸ¬ ì•Œë¦¼ì´ ì™€ë„ ëª¨ë‘ ì •ìƒ í‘œì‹œë¨ (ìµœëŒ€ 3ê°œ ì œí•œ) âœ…
- ì˜¤ë˜ëœ ì•Œë¦¼ ìë™ ì •ë¦¬ë¡œ ì‹œìŠ¤í…œ ì•ˆì •ì„± í™•ë³´ âœ…
- ìƒì„¸ ë¡œê·¸ë¡œ ëª¨ë“  ìƒí™© ì¶”ì  ê°€ëŠ¥ âœ…

### ì‹œìŠ¤í…œ ì•ˆì •ì„± ë‹¬ì„±
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ì˜¤ë˜ëœ ì•Œë¦¼ ìë™ ì •ë¦¬ë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
- **ì„±ëŠ¥ ìµœì í™”**: ìµœëŒ€ 3ê°œ ì•Œë¦¼ ì œí•œìœ¼ë¡œ ì‹œìŠ¤í…œ ê³¼ë¶€í•˜ ë°©ì§€
- **ì˜¤ë¥˜ ë³µêµ¬**: ëª¨ë“  ì˜¤ë¥˜ ìƒí™©ì—ì„œ ì•ˆì •ì  ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
- **ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ìƒíƒœ ì¶”ì ìœ¼ë¡œ ë¬¸ì œ ì¡°ê¸° ë°œê²¬ ê°€ëŠ¥

#### 15. ì•Œë¦¼ì—ì„œ undefined í‘œì‹œ ë¬¸ì œ í•´ê²° (2025-08-26 ì˜¤í›„)
- **ì™„ë£Œì¼**: 2025-08-26 ì˜¤í›„ 19:15
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - ì•Œë¦¼ ì œëª©ì— "undefined" í‘œì‹œë˜ëŠ” ë¬¸ì œ
  - ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ í•„ë“œëª… ë¶ˆì¼ì¹˜ ë¬¸ì œ
  - ì•ˆì „í•œ fallback ì²´ì¸ ë¶€ì¬ë¡œ ì¸í•œ ì˜ˆì™¸ ìƒí™©

### ë¬¸ì œ ì›ì¸ ë¶„ì„
- **ì„œë²„**: `result.nickname` í•„ë“œë¡œ ë©”ì‹œì§€ ì „ì†¡ (server.js)
- **í´ë¼ì´ì–¸íŠ¸**: `message.name` í•„ë“œë¥¼ ì•Œë¦¼ ì œëª©ìœ¼ë¡œ ì‚¬ìš© (index.html)
- **ê²°ê³¼**: `message.name`ì´ undefinedì´ë¯€ë¡œ ì•Œë¦¼ì—ì„œ "undefined" í‘œì‹œ

### í•´ê²° ë°©ì•ˆ êµ¬í˜„
- **í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì •**: `message.name` â†’ `message.nickname || message.name || 'ìµëª…'`
- **ì•ˆì „í•œ fallback**: 3ë‹¨ê³„ fallback ì²´ì¸ìœ¼ë¡œ ëª¨ë“  ìƒí™© ëŒ€ì‘
- **ì™„ì „ í˜¸í™˜ì„±**: ê¸°ì¡´ ì½”ë“œì™€ì˜ í•˜ìœ„ í˜¸í™˜ì„± ë³´ì¥

### í…ŒìŠ¤íŠ¸ ê²€ì¦ ì™„ë£Œ
- **ìŠ¤í…Œì´ì§• ì„œë²„**: https://eastalk-staging.onrender.com ë°°í¬ ì™„ë£Œ
- **ë‹¤ì¤‘ ê³„ì • í…ŒìŠ¤íŠ¸**: ë‚˜ìš°ì°½(0809) â†” ì‹ ì§±êµ¬(1234) ë©”ì‹œì§€ êµí™˜
- **ì•Œë¦¼ í™•ì¸**: ì‚¬ìš©ì ì´ë¦„ì´ ì •í™•í•˜ê²Œ í‘œì‹œë¨ âœ…

### ê¸°ìˆ ì  êµ¬í˜„ì‚¬í•­
```javascript
// Before (ë¬¸ì œ ì½”ë“œ)
this.showNotification(`${message.name}${roomText}`, {

// After (í•´ê²° ì½”ë“œ)  
this.showNotification(`${message.nickname || message.name || 'ìµëª…'}${roomText}`, {
```

### í•´ê²° íš¨ê³¼
- âœ… **ì•Œë¦¼ ì œëª©**: "undefined" â†’ "ì‹ ì§±êµ¬" ì •í™•í•œ ì‚¬ìš©ì ì´ë¦„ í‘œì‹œ
- âœ… **ì•ˆì „ì„±**: ëª¨ë“  ì˜ˆì™¸ ìƒí™©ì—ì„œ ì ì ˆí•œ ì´ë¦„ í‘œì‹œ ë³´ì¥
- âœ… **í˜¸í™˜ì„±**: ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ ì™„ì „ í˜¸í™˜
- âœ… **í™•ì¥ì„±**: í–¥í›„ í•„ë“œ ë³€ê²½ì—ë„ ì•ˆì •ì  ëŒ€ì‘

#### 16. ì¹´ì¹´ì˜¤í†¡ ìŠ¤íƒ€ì¼ í”„ë¡œí•„ í¸ì§‘ ì‹œìŠ¤í…œ í‘œì‹œ ë¬¸ì œ í•´ê²° (2025-08-26 ì‹¬ì•¼)
- **ì™„ë£Œì¼**: 2025-08-26 ì‹¬ì•¼ 23:45
- **ìƒíƒœ**: ì§„í–‰ ì¤‘ âš ï¸
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - ìŠ¤í…Œì´ì§• ì„œë²„ì—ì„œ í”„ë¡œí•„ ë²„íŠ¼ì´ ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ì œ
  - CSS `display: none` ì„¤ì •ìœ¼ë¡œ ì¸í•œ UI ìš”ì†Œ ìˆ¨ê¹€ ìƒíƒœ
  - ë°°í¬ëœ ê¸°ëŠ¥ì´ ì‚¬ìš©ìì—ê²Œ ë³´ì´ì§€ ì•ŠëŠ” ì ‘ê·¼ì„± ë¬¸ì œ

### ë¬¸ì œ ì§„ë‹¨ ê³¼ì •
- **Playwright ë¸Œë¼ìš°ì € ìë™í™”**: ìŠ¤í…Œì´ì§• ì‚¬ì´íŠ¸ ì§ì ‘ ì ‘ì†í•˜ì—¬ ì‹¤ì‹œê°„ ì§„ë‹¨
- **DOM ë¶„ì„**: í”„ë¡œí•„ ë²„íŠ¼ì´ DOMì— ì „í˜€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìƒíƒœ í™•ì¸ (ì˜ˆìƒê³¼ ë‹¤ë¦„)
- **ì‹¤ì œ ì›ì¸**: HTMLì— í”„ë¡œí•„ ë²„íŠ¼ ì½”ë“œ ìì²´ê°€ ì—†ìŒ
- **ë¡œì»¬ ë²„ì „**: ë¡œì»¬ì—ì„œë„ í”„ë¡œí•„ ë²„íŠ¼ ì½”ë“œê°€ ë³´ì´ì§€ ì•ŠìŒ

### ë°œê²¬ëœ ì‹¤ì œ ë¬¸ì œ
```
- ì˜ˆìƒ: í”„ë¡œí•„ ë²„íŠ¼ì´ DOMì— ìˆì§€ë§Œ display: noneìœ¼ë¡œ ìˆ¨ê²¨ì§
- ì‹¤ì œ: í”„ë¡œí•„ ë²„íŠ¼ì´ HTMLì— ì•„ì˜ˆ ì—†ìŒ  
- ì›ì¸: ì½”ë“œê°€ ë°°í¬ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì‚­ì œë˜ì—ˆì„ ê°€ëŠ¥ì„±
```

### í˜„ì¬ ìƒíƒœ
- âŒ **í”„ë¡œí•„ ë²„íŠ¼**: í—¤ë”ì—ì„œ í”„ë¡œí•„ ë²„íŠ¼ì´ ì „í˜€ ë³´ì´ì§€ ì•ŠìŒ
- âœ… **í”„ë¡œí•„ ê¸°ëŠ¥**: ì™¼ìª½ ì‚¬ì´ë“œë°”ì˜ í”„ë¡œí•„ í¸ì§‘ ê¸°ëŠ¥ì€ ì •ìƒ ì‘ë™
- âš ï¸ **ì ‘ê·¼ì„± ë¬¸ì œ**: ì‚¬ìš©ìê°€ í”„ë¡œí•„ ê¸°ëŠ¥ì„ ì°¾ê¸° ì–´ë ¤ìš´ ìƒí™©

### í•´ê²° í•„ìš”ì‚¬í•­
- **ì½”ë“œ í™•ì¸**: í”„ë¡œí•„ ë²„íŠ¼ ê´€ë ¨ ì½”ë“œê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ í•„ìš”
- **ë°°í¬ ê²€ì¦**: ì˜¬ë°”ë¥¸ ë²„ì „ì´ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•„ìš”
- **ì½”ë“œ ì¶”ê°€**: í•„ìš”ì‹œ í”„ë¡œí•„ ë²„íŠ¼ ì½”ë“œ ìƒˆë¡œ ì¶”ê°€

### ìµœê·¼ ì™„ë£Œ ì‘ì—… (2025-08-27)

#### 18. í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ê¸°ëŠ¥ ì™„ì „ ê°œì„  - ìë™ Fallback ì‹œìŠ¤í…œ (2025-08-27 ì˜¤í›„)
- **ì™„ë£Œì¼**: 2025-08-27 ì˜¤í›„ 12:15
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - **Uppy.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨ë¡œ ì¸í•œ íŒŒì¼ ì„ íƒ ë¶ˆê°€ëŠ¥ ë¬¸ì œ** ì™„ì „ í•´ê²°
  - **'ë³€ê²½' ë²„íŠ¼ í´ë¦­ í›„ íŒŒì¼ ì„ íƒ ì¸í„°í˜ì´ìŠ¤ ì—†ë˜ ë¬¸ì œ** ì™„ì „ í•´ê²°

#### ê¸°ìˆ ì  í˜ì‹ ì‚¬í•­

##### 1. ìŠ¤ë§ˆíŠ¸ Fallback ì‹œìŠ¤í…œ êµ¬í˜„
- **Primary**: Uppy.js ê³ ê¸‰ ë“œë˜ê·¸ì•¤ë“œë¡­ ì—…ë¡œë“œ ì‹œìŠ¤í…œ
- **Fallback**: HTML5 ê¸°ë³¸ íŒŒì¼ ì„ íƒ ì‹œìŠ¤í…œ ìë™ ì „í™˜
- **ìë™ ê°ì§€**: `TypeError: Uppy is not a constructor` ì˜¤ë¥˜ ê°ì§€ì‹œ ì¦‰ì‹œ ì „í™˜
- **ì‚¬ìš©ì íˆ¬ëª…ì„±**: ì‚¬ìš©ìëŠ” ì‹œìŠ¤í…œ ì „í™˜ì„ ëŠë¼ì§€ ëª»í•˜ê³  ë™ì¼í•œ ê²½í—˜

##### 2. ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
```javascript
// ìŠ¤ë§ˆíŠ¸ ì´ˆê¸°í™” ì‹œìŠ¤í…œ
initUppy() {
  console.log('ğŸš€ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹œì‘...');
  
  if (typeof Uppy !== 'undefined') {
    try {
      console.log('ğŸ“¦ Uppy.js ì‚¬ìš© ê°€ëŠ¥, ê³ ê¸‰ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...');
      this.initUppyAdvanced();
      return;
    } catch (error) {
      console.error('âŒ Uppy.js ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
      console.log('ğŸ”„ ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜...');
    }
  }
  
  // ìë™ fallback
  this.initBasicFileUpload();
}
```

##### 3. ì‚¬ìš©ì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
- **ì§ê´€ì  UI**: ğŸ“· ì•„ì´ì½˜ + "í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ" ì œëª©
- **ëª…í™•í•œ ê°€ì´ë“œ**: "JPG, PNG, GIF íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥ (ìµœëŒ€ 5MB)"
- **íŒŒì¼ ì„ íƒ ë²„íŠ¼**: í´ë¦­ì‹œ ë„¤ì´í‹°ë¸Œ íŒŒì¼ ë‹¤ì´ì–¼ë¡œê·¸ ì˜¤í”ˆ
- **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: ì„ íƒí•œ íŒŒì¼ì˜ ì¦‰ì‹œ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
- **ì„ íƒ ì·¨ì†Œ**: ì–¸ì œë“  íŒŒì¼ ì„ íƒ ì·¨ì†Œ ê°€ëŠ¥

##### 4. ì™„ì „í•œ ì„œë²„ ì—°ë™
```javascript
async uploadSelectedFile(file) {
  const formData = new FormData();
  formData.append('image', file);
  formData.append('userId', AppState.userId);

  const response = await fetch('/api/profile-upload', {
    method: 'POST',
    body: formData
  });

  const result = await response.json();
  return result;
}
```

##### 5. ê²¬ê³ í•œ íŒŒì¼ ê²€ì¦ ì‹œìŠ¤í…œ
- **í¬ê¸° ì œí•œ**: 5MB ì´í•˜ íŒŒì¼ë§Œ í—ˆìš©
- **í˜•ì‹ ê²€ì¦**: image/* MIME íƒ€ì… í™•ì¸
- **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì œí•œ ìœ„ë°˜ì‹œ ì¦‰ì‹œ ì‚¬ìš©ì ì•Œë¦¼
- **ìë™ ì •ë¦¬**: ìœ íš¨í•˜ì§€ ì•Šì€ ì„ íƒ ìë™ ì·¨ì†Œ

### í…ŒìŠ¤íŠ¸ ê²€ì¦ ì™„ë£Œ

#### ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ ê²°ê³¼
- âœ… **Uppy.js ì‹¤íŒ¨ ê°ì§€**: `TypeError: Uppy is not a constructor` ì •ìƒ ê°ì§€
- âœ… **ìë™ ì „í™˜**: `ğŸ”„ ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜...` ë¡œê·¸ í™•ì¸
- âœ… **ê¸°ë³¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™”**: `âœ… ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ`
- âœ… **ë³€ê²½ ë²„íŠ¼**: í´ë¦­ì‹œ ì—…ë¡œë“œ ì˜ì—­ ì •ìƒ í† ê¸€
- âœ… **íŒŒì¼ ì„ íƒ ë²„íŠ¼**: í´ë¦­ì‹œ ë¸Œë¼ìš°ì € íŒŒì¼ ë‹¤ì´ì–¼ë¡œê·¸ ì •ìƒ ì˜¤í”ˆ
- âœ… **UI í‘œì‹œ**: í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ì¸í„°í˜ì´ìŠ¤ ì™„ë²½ í‘œì‹œ

#### ë°°í¬ ìƒíƒœ
- âœ… **Git ì»¤ë°‹**: `7f7206e` - "feat: í”„ë¡œí•„ ì‚¬ì§„ ì„ íƒ ê¸°ëŠ¥ ì™„ì „ ê°œì„ "
- âœ… **Develop ë¸Œëœì¹˜**: ë³€ê²½ì‚¬í•­ push ì™„ë£Œ
- âœ… **ìë™ ë°°í¬**: ìŠ¤í…Œì´ì§• í™˜ê²½ìœ¼ë¡œ ë°°í¬ ì§„í–‰ ì¤‘

### í•´ê²° íš¨ê³¼
- **ì™„ì „í•œ ê¸°ëŠ¥ì„±**: Uppy.js ìƒíƒœì™€ ê´€ê³„ì—†ì´ í•­ìƒ íŒŒì¼ ì„ íƒ ê°€ëŠ¥
- **í–¥ìƒëœ UX**: ì§ê´€ì ì´ê³  ëª…í™•í•œ íŒŒì¼ ì„ íƒ í”„ë¡œì„¸ìŠ¤
- **ì‹œìŠ¤í…œ ì•ˆì •ì„±**: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì—†ëŠ” ê²¬ê³ í•œ fallback ì‹œìŠ¤í…œ
- **ë¯¸ë˜ ë³´ì¥**: Uppy.js ë³µêµ¬ì‹œ ìë™ìœ¼ë¡œ ê³ ê¸‰ ì‹œìŠ¤í…œ ë³µì›

#### 17. í”„ë¡œí•„ í¸ì§‘ ë³€ê²½ ë²„íŠ¼ ë° ë‹µê¸€ ë¼ë²¨ í´ë¦­ ê¸°ëŠ¥ ì™„ì „ ìˆ˜ì • (2025-08-27 ì˜¤ì „)
- **ì™„ë£Œì¼**: 2025-08-27 ì˜¤ì „ 11:50
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - **í”„ë¡œí•„ í¸ì§‘ 'ë³€ê²½' ë²„íŠ¼ í´ë¦­ ë°˜ì‘ ì—†ë˜ ë¬¸ì œ** ì™„ì „ í•´ê²°
  - **ë‹µê¸€ ë¼ë²¨ í´ë¦­ì‹œ ë©”ì‹œì§€ ì´ë™ ê¸°ëŠ¥ ë¯¸ì‘ë™** ì™„ì „ í•´ê²°

### ê¸°ìˆ ì  í•´ê²°ì‚¬í•­

#### 1. í”„ë¡œí•„ í¸ì§‘ ë³€ê²½ ë²„íŠ¼ ìˆ˜ì •
- **ë¬¸ì œ**: `toggleImageUpload()` í•¨ìˆ˜ì—ì„œ null ì²´í¬ ë¶€ì¡±ìœ¼ë¡œ ì˜¤ë¥˜ ë°œìƒ
- **í•´ê²° ë°©ë²•**:
  - í¬ê´„ì ì¸ null ì²´í¬ ë° ì˜¤ë¥˜ ì²˜ë¦¬ ì¶”ê°€
  - `showImageUpload()`, `hideImageUpload()` í•¨ìˆ˜ ì•ˆì •ì„± ê°•í™”
  - ìƒì„¸í•œ ì½˜ì†” ë¡œê¹…ìœ¼ë¡œ ë””ë²„ê¹… ê°€ëŠ¥ì„± í–¥ìƒ
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 
  - âœ… ë¡œì»¬ í™˜ê²½: "ë³€ê²½" ë²„íŠ¼ í´ë¦­ì‹œ ì™„ë²½í•œ í† ê¸€ ë™ì‘
  - âœ… ì½˜ì†” ë¡œê·¸: `ğŸ”„ ì´ë¯¸ì§€ ì—…ë¡œë“œ í† ê¸€ ì‹¤í–‰` â†’ `âœ… ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ í‘œì‹œ ì™„ë£Œ`

#### 2. ë‹µê¸€ ë¼ë²¨ í´ë¦­ ê¸°ëŠ¥ ìˆ˜ì •  
- **ë¬¸ì œ**: `ReferenceError: scrollToMessage is not defined` ì˜¤ë¥˜
- **ê·¼ë³¸ ì›ì¸**: ì „ì—­ `scrollToMessage` í•¨ìˆ˜ê°€ ëŠ¦ê²Œ ì •ì˜ë˜ì–´ onclick í•¸ë“¤ëŸ¬ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
- **í•´ê²° ë°©ë²•**:
  - `scrollToMessage` í•¨ìˆ˜ë¥¼ ìŠ¤í¬ë¦½íŠ¸ ì´ˆê¸° ë¶€ë¶„(ìƒìˆ˜ ì •ì˜ í›„)ìœ¼ë¡œ ì´ë™
  - ì¦‰ì‹œ ì „ì—­ ìŠ¤ì½”í”„ì— í• ë‹¹í•˜ì—¬ ì ‘ê·¼ì„± ë³´ì¥
  - ScrollManager ì´ˆê¸°í™” ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ì‘ë™í•˜ëŠ” fallback ë©”ì»¤ë‹ˆì¦˜ êµ¬í˜„
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
  - âœ… ë¡œì»¬ í™˜ê²½: ë‹µê¸€ ë¼ë²¨ í´ë¦­ì‹œ ì •í™•í•œ ë©”ì‹œì§€ë¡œ ìŠ¤í¬ë¡¤ ì´ë™
  - âœ… ì½˜ì†” ë¡œê·¸: `ğŸŒ ì „ì—­ scrollToMessage í˜¸ì¶œ: mid-xxx` â†’ `ğŸ¯ ëŒ€ì²´ ë°©ë²•ìœ¼ë¡œ ìš”ì†Œ ë°œê²¬, ìŠ¤í¬ë¡¤ ì‹œë„`

#### 3. êµ¬í˜„ëœ ê¸°ìˆ ì  ê°œì„ ì‚¬í•­
```javascript
// 1. í”„ë¡œí•„ í¸ì§‘ - ê°•í™”ëœ ì˜¤ë¥˜ ì²˜ë¦¬
toggleImageUpload() {
  console.log('ğŸ”„ ì´ë¯¸ì§€ ì—…ë¡œë“œ í† ê¸€ ì‹¤í–‰');
  
  if (!this.imageUploadArea) {
    console.error('âŒ imageUploadArea ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
    return;
  }
  
  try {
    const isVisible = this.imageUploadArea.style.display !== 'none' && this.imageUploadArea.style.display !== '';
    console.log(`ğŸ“‹ í˜„ì¬ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ ìƒíƒœ: ${isVisible ? 'í‘œì‹œë¨' : 'ìˆ¨ê²¨ì§'}`);
    
    if (isVisible) {
      this.hideImageUpload();
    } else {
      this.showImageUpload();
    }
  } catch (error) {
    console.error('âŒ ì´ë¯¸ì§€ ì—…ë¡œë“œ í† ê¸€ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
  }
}

// 2. ë‹µê¸€ ìŠ¤í¬ë¡¤ - ì¦‰ì‹œ ì •ì˜ëœ ì „ì—­ í•¨ìˆ˜
function scrollToMessage(messageId) {
  console.log(`ğŸŒ ì „ì—­ scrollToMessage í˜¸ì¶œ: ${messageId}`);
  
  if (!messageId) {
    console.warn('âš ï¸ messageIdê°€ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
    return false;
  }
  
  // ScrollManager ì‚¬ìš© ë˜ëŠ” ëŒ€ì²´ ë°©ë²• ìë™ ì„ íƒ
  if (window.ScrollManager && window.ScrollManager.scrollToMessage) {
    console.log('ğŸ“‹ ScrollManagerë¥¼ í†µí•´ ìŠ¤í¬ë¡¤ ì‹¤í–‰');
    return window.ScrollManager.scrollToMessage(messageId);
  } else {
    console.warn('ScrollManagerê°€ ì•„ì§ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ëŒ€ì²´ ë°©ë²• ì‹œë„...');
    
    const targetElement = document.querySelector(`[data-mid="${messageId}"]`);
    if (targetElement) {
      console.log('ğŸ¯ ëŒ€ì²´ ë°©ë²•ìœ¼ë¡œ ìš”ì†Œ ë°œê²¬, ìŠ¤í¬ë¡¤ ì‹œë„');
      targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
      
      // í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼
      targetElement.style.transition = 'background-color 0.3s ease';
      targetElement.style.backgroundColor = '#fff3cd';
      setTimeout(() => {
        targetElement.style.backgroundColor = '';
        setTimeout(() => {
          targetElement.style.transition = '';
        }, 300);
      }, 1000);
      
      return true;
    } else {
      console.error(`âŒ ë©”ì‹œì§€ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${messageId}`);
      return false;
    }
  }
}

// ì „ì—­ ìŠ¤ì½”í”„ ì¦‰ì‹œ í• ë‹¹
window.scrollToMessage = scrollToMessage;
```

### í…ŒìŠ¤íŠ¸ ê²€ì¦ ì™„ë£Œ

#### ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ (http://localhost:3000)
- âœ… **ë¡œê·¸ì¸**: ë‚˜ìš°ì°½(0809) ê³„ì • ì •ìƒ ë¡œê·¸ì¸
- âœ… **í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬**: "âœï¸ í”„ë¡œí•„ í¸ì§‘" ë²„íŠ¼ ì •ìƒ ì‘ë™
- âœ… **ë³€ê²½ ë²„íŠ¼**: í´ë¦­ì‹œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ ì™„ë²½í•œ í† ê¸€ ë™ì‘
- âœ… **ë‹µê¸€ ìƒì„±**: ì²« ë²ˆì§¸ ë©”ì‹œì§€ â†’ ë‹µê¸€ ì‘ì„± ì™„ë£Œ
- âœ… **ë‹µê¸€ ë¼ë²¨ í´ë¦­**: "ë‚˜ìš°ì°½ ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤" í´ë¦­ì‹œ ì›ë³¸ ë©”ì‹œì§€ë¡œ ì •í™•í•œ ìŠ¤í¬ë¡¤ ì´ë™
- âœ… **ì½˜ì†” ë¡œê·¸**: ëª¨ë“  ê³¼ì •ì´ ìƒì„¸í•˜ê²Œ ë¡œê¹…ë˜ì–´ ë””ë²„ê¹… ê°€ëŠ¥

#### ë°°í¬ ìƒíƒœ
- âœ… **Git ì»¤ë°‹**: `b526b5d` - "fix: í”„ë¡œí•„ í¸ì§‘ ë³€ê²½ ë²„íŠ¼ ë° ë‹µê¸€ ë¼ë²¨ í´ë¦­ ê¸°ëŠ¥ ì™„ì „ ìˆ˜ì •"
- âœ… **develop ë¸Œëœì¹˜**: ë³€ê²½ì‚¬í•­ push ì™„ë£Œ
- âœ… **ìë™ ë°°í¬**: ìŠ¤í…Œì´ì§• í™˜ê²½ìœ¼ë¡œ ë°°í¬ ì§„í–‰ ì¤‘

### í•´ê²° íš¨ê³¼
- **í”„ë¡œí•„ í¸ì§‘**: ì‚¬ìš©ìê°€ í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½ ê¸°ëŠ¥ì„ ì •ìƒì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥
- **ë‹µê¸€ ë„¤ë¹„ê²Œì´ì…˜**: ë‹µê¸€ì—ì„œ ì›ë³¸ ë©”ì‹œì§€ë¡œ ì¦‰ì‹œ ì´ë™ ê°€ëŠ¥í•˜ì—¬ UX ëŒ€í­ í–¥ìƒ
- **ì‹œìŠ¤í…œ ì•ˆì •ì„±**: ë‘ ê¸°ëŠ¥ ëª¨ë‘ ì˜¤ë¥˜ ì²˜ë¦¬ê°€ ê°•í™”ë˜ì–´ ì˜ˆì™¸ ìƒí™©ì—ì„œë„ ì•ˆì •ì  ì‘ë™
- **ë””ë²„ê¹… í¸ì˜ì„±**: ìƒì„¸í•œ ë¡œê¹…ìœ¼ë¡œ í–¥í›„ ë¬¸ì œ ë°œìƒì‹œ ë¹ ë¥¸ ì§„ë‹¨ ê°€ëŠ¥

### ìµœê·¼ ì™„ë£Œ ì‘ì—… (2025-08-27 ì˜¤í›„)

#### 19. í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ê¸°ëŠ¥ ì™„ì „ ìˆ˜ì • (2025-08-27 ì˜¤í›„)
- **ì™„ë£Œì¼**: 2025-08-27 ì˜¤í›„ 12:43
- **ìƒíƒœ**: ì™„ë£Œ âœ…
- **í•´ê²°ëœ í•µì‹¬ ë¬¸ì œ**:
  - **í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ "í”„ë¡œí•„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" ì˜¤ë¥˜** ì™„ì „ í•´ê²°
  - **ì„œë²„ì—ì„œ `updateProfile` ì†Œì¼“ ì´ë²¤íŠ¸ ì²˜ë¦¬ ëˆ„ë½** ë¬¸ì œ í•´ê²°
  - **í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ ì´ë²¤íŠ¸ëª… ë¶ˆì¼ì¹˜** ë¬¸ì œ í•´ê²°

### ë¬¸ì œ ì§„ë‹¨ ë° í•´ê²°

#### 1. ë¬¸ì œ ì›ì¸ ë¶„ì„
- **í´ë¼ì´ì–¸íŠ¸**: `updateProfile` ì´ë²¤íŠ¸ ì „ì†¡ (index.html:2016)
- **ì„œë²„**: `updateProfile` ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¦¬ìŠ¤ë„ˆ **ëˆ„ë½** (server.js)
- **ê²°ê³¼**: ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë°›ì§€ ëª»í•˜ì—¬ ì €ì¥ ì‹¤íŒ¨

#### 2. í•´ê²° êµ¬í˜„ì‚¬í•­

##### ì„œë²„ ì¸¡ ìˆ˜ì • (server.js)
```javascript
// í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ì²˜ë¦¬ ì¶”ê°€
socket.on('updateProfile', async (data) => {
  try {
    const { userId, nickname, status } = data;
    console.log(`ğŸ“ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ìš”ì²­: ${userId}`, { nickname, status });
    
    if (!userId) {
      socket.emit('profileUpdateResponse', { 
        success: false, 
        error: 'ì‚¬ìš©ì IDê°€ í•„ìš”í•©ë‹ˆë‹¤.' 
      });
      return;
    }

    let user;
    
    // í™˜ê²½ì— ë”°ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸
    if (!mongoose.connection.readyState || mongoose.connection.readyState !== 1) {
      // ë©”ëª¨ë¦¬ DB ì‚¬ìš© (ë¡œì»¬ ê°œë°œ í™˜ê²½)
      user = memoryUsers.get(userId);
      if (user) {
        if (nickname) user.nickname = nickname;
        if (status) user.status = status;
        user.updatedAt = new Date();
        memoryUsers.set(userId, user);
        console.log(`âœ… ë©”ëª¨ë¦¬ DBì—ì„œ ì‚¬ìš©ì ${userId} í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì™„ë£Œ`);
      }
    } else {
      // MongoDB ì‚¬ìš©
      const updateData = {};
      if (nickname) updateData.nickname = nickname;
      if (status) updateData.status = status;
      updateData.updatedAt = new Date();
      
      user = await User.findOneAndUpdate(
        { userId },
        updateData,
        { new: true }
      );
      
      console.log(`âœ… MongoDBì—ì„œ ì‚¬ìš©ì ${userId} í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì™„ë£Œ`);
    }
    
    // ì ‘ì†ì ì •ë³´ë„ ì—…ë°ì´íŠ¸
    ConnectedUsersManager.updateUser(socket.id, {
      nickname: user.nickname,
      status: user.status
    });
    
    // ì„±ê³µ ì‘ë‹µ ì „ì†¡
    socket.emit('profileUpdateResponse', {
      success: true,
      message: 'í”„ë¡œí•„ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.',
      user: {
        userId: user.userId,
        nickname: user.nickname,
        status: user.status,
        avatar: user.avatar
      }
    });
    
    // ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ í”„ë¡œí•„ ë³€ê²½ ì•Œë¦¼
    io.emit('userProfileUpdated', {
      userId: user.userId,
      nickname: user.nickname,
      avatar: user.avatar,
      status: user.status
    });
    
    console.log('ğŸ”” ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì•Œë¦¼ ì „ì†¡');
    
  } catch (error) {
    console.error('âŒ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
    socket.emit('profileUpdateResponse', { 
      success: false, 
      error: 'í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' 
    });
  }
});
```

##### í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìˆ˜ì • (index.html)
```javascript
// ì„œë²„ ì‘ë‹µ ì²˜ë¦¬ ìˆ˜ì •
const onProfileUpdateResponse = (response) => {
  clearTimeout(timeout);
  socket.off('profileUpdateResponse', onProfileUpdateResponse);
  
  if (response.success) {
    // AppState ì—…ë°ì´íŠ¸
    AppState.me = { ...AppState.me, ...profileData };
    
    // UI ì—…ë°ì´íŠ¸
    updateProfileUI();
    
    resolve(response);
  } else {
    reject(new Error(response.error || 'í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨'));
  }
};

socket.on('profileUpdateResponse', onProfileUpdateResponse);
```

#### 3. ê¸°ìˆ ì  ê°œì„ ì‚¬í•­
- **í™˜ê²½ ê°ì§€ ë¡œì§**: MongoDB ì—°ê²° ìƒíƒœ í™•ì¸ìœ¼ë¡œ ì •í™•í•œ DB ì„ íƒ
- **ë°ì´í„° ê²€ì¦**: userId í•„ìˆ˜ ì²´í¬ ë° ì•ˆì „í•œ í•„ë“œ ì—…ë°ì´íŠ¸
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ConnectedUsersManager ì—…ë°ì´íŠ¸ + ì „ì²´ í´ë¼ì´ì–¸íŠ¸ ì•Œë¦¼
- **í¬ê´„ì  ì˜¤ë¥˜ ì²˜ë¦¬**: try-catchë¡œ ëª¨ë“  ì˜ˆì™¸ ìƒí™© ëŒ€ì‘
- **ìƒì„¸ ë¡œê¹…**: ë””ë²„ê¹…ì„ ìœ„í•œ ë‹¨ê³„ë³„ ë¡œê·¸ ì¶œë ¥

### í…ŒìŠ¤íŠ¸ ê²€ì¦ ì™„ë£Œ

#### Playwright ìë™í™” í…ŒìŠ¤íŠ¸ ê²°ê³¼
- âœ… **ë¡œê·¸ì¸**: ë‚˜ìš°ì°½(0809) ê³„ì • ì •ìƒ ë¡œê·¸ì¸
- âœ… **í”„ë¡œí•„ í¸ì§‘ ëª¨ë‹¬**: "âœï¸ í”„ë¡œí•„ í¸ì§‘" ë²„íŠ¼ìœ¼ë¡œ ëª¨ë‹¬ ì˜¤í”ˆ
- âœ… **ìƒíƒœ ë©”ì‹œì§€ ì…ë ¥**: "ìˆ˜ì • ì™„ë£Œ í…ŒìŠ¤íŠ¸!" ì…ë ¥
- âœ… **ì €ì¥ ì„±ê³µ**: ì €ì¥ ë²„íŠ¼ í´ë¦­ í›„ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë¨
- âœ… **UI ì—…ë°ì´íŠ¸**: ì‚¬ì´ë“œë°” ìƒíƒœ ë©”ì‹œì§€ê°€ ì¦‰ì‹œ "ìˆ˜ì • ì™„ë£Œ í…ŒìŠ¤íŠ¸!"ë¡œ ë³€ê²½
- âœ… **ëª¨ë‹¬ ìë™ ë‹«í˜**: ì €ì¥ ì™„ë£Œ í›„ ëª¨ë‹¬ì´ ìë™ìœ¼ë¡œ ë‹«í˜

#### ì„œë²„ ë¡œê·¸ ê²€ì¦
```
ğŸ“ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ìš”ì²­: uid-cb514931fff3 { nickname: 'ë‚˜ìš°ì°½', status: 'ìˆ˜ì • ì™„ë£Œ í…ŒìŠ¤íŠ¸!' }
âœ… ë©”ëª¨ë¦¬ DBì—ì„œ ì‚¬ìš©ì uid-cb514931fff3 í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì™„ë£Œ
ğŸ‘¤ ì ‘ì†ì ì •ë³´ ì—…ë°ì´íŠ¸: ë‚˜ìš°ì°½
ğŸ”” ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ì•Œë¦¼ ì „ì†¡
```

### í•´ê²° íš¨ê³¼
- **ê¸°ëŠ¥ ì™„ì „ ë³µêµ¬**: í”„ë¡œí•„ í¸ì§‘ ì €ì¥ ê¸°ëŠ¥ì´ 100% ì •ìƒ ì‘ë™
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: UI ì—…ë°ì´íŠ¸ì™€ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ ì•Œë¦¼ê¹Œì§€ ì™„ë²½ ì—°ë™
- **ì‹œìŠ¤í…œ ì•ˆì •ì„±**: ë©”ëª¨ë¦¬ DB/MongoDB ëª¨ë“  í™˜ê²½ì—ì„œ ì•ˆì •ì  ì‘ë™
- **ì‚¬ìš©ì ê²½í—˜**: ì €ì¥ â†’ UI ì—…ë°ì´íŠ¸ â†’ ëª¨ë‹¬ ë‹«í˜ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì›Œí¬í”Œë¡œ

### 21. í”„ë¡œí•„ ì´ë¯¸ì§€ ì €ì¥ ì˜¤ë¥˜ ì™„ì „ í•´ê²° (2025-08-27 ì˜¤í›„)

#### ë¬¸ì œ ë°œê²¬ ë° í•´ê²° (2025-08-27 ì˜¤í›„ 13:45)
- **ë¬¸ì œ ìƒí™©**: ë‹‰ë„¤ì„ê³¼ ìƒíƒœ ë©”ì‹œì§€ ë³€ê²½ì€ ì •ìƒ ì‘ë™í•˜ë‚˜ **í”„ë¡œí•„ ì‚¬ì§„ì„ ë³€ê²½í•˜ë ¤ê³  í•˜ë©´ ì €ì¥ ì‹œ ì˜¤ë¥˜ ë°œìƒ**
- **í…ŒìŠ¤íŠ¸ í™˜ê²½**: ìŠ¤í…Œì´ì§• ì„œë²„ (https://eastalk-staging.onrender.com) ì‹¤ì œ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
- **ë°œê²¬ ì¦ìƒ**: 
  - íŒŒì¼ ì„ íƒ ê¸°ëŠ¥ ì •ìƒ ì‘ë™
  - **ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ ì˜¤ë¥˜ ë°œìƒ** (ì‚¬ìš©ì ë¸Œë¼ìš°ì €)
  - Playwright í™˜ê²½ì—ì„œëŠ” íŒŒì¼ ì„ íƒ ìì²´ê°€ ë°˜ì‘ ì—†ìŒ (í™˜ê²½ë³„ ì°¨ì´)

#### ê·¼ë³¸ ì›ì¸ ë¶„ì„
**ğŸš¨ ë°œê²¬ëœ í•µì‹¬ ë¬¸ì œë“¤:**

1. **ì„œë²„ `updateProfile` í•¸ë“¤ëŸ¬ì—ì„œ `avatar` í•„ë“œ ì™„ì „ ëˆ„ë½**
   ```javascript
   // ë¬¸ì œ ì½”ë“œ (server.js:1345-1346)
   const { userId, nickname, status } = data;  // âŒ avatar í•„ë“œ ëˆ„ë½!
   console.log(`ğŸ“ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ìš”ì²­: ${userId}`, { nickname, status });
   ```

2. **í´ë¼ì´ì–¸íŠ¸ ì €ì¥ ì¡°ê±´ ë¡œì§ ì˜¤ë¥˜**
   ```javascript
   // ë¬¸ì œ ì¡°ê±´ë¬¸ (index.html:1979)
   if (hasNicknameChange || hasStatusChange || (hasAvatarChange && !this.uppy?.getFiles().length && !this.selectedFile))
   // âŒ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì„œë²„ ì—…ë°ì´íŠ¸ë¥¼ ê±´ë„ˆë›°ëŠ” ë¡œì§ ì˜¤ë¥˜
   ```

3. **profileImage/avatar í•„ë“œ ë¶ˆì¼ì¹˜**
   - `AppState.me.profileImage`ì™€ `AppState.me.avatar` í˜¼ì¬ ì‚¬ìš©
   - ì¼ê´€ì„± ì—†ëŠ” í•„ë“œëª…ìœ¼ë¡œ ì¸í•œ ë¹„êµ ì˜¤ë¥˜

#### ì ìš©ëœ ìˆ˜ì •ì‚¬í•­

##### ğŸ”§ ì„œë²„ ìˆ˜ì • (server.js)
```javascript
// Before: avatar í•„ë“œ ëˆ„ë½
const { userId, nickname, status } = data;

// After: avatar í•„ë“œ ì¶”ê°€ ë° ì²˜ë¦¬
const { userId, nickname, status, avatar } = data;
console.log(`ğŸ“ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ ìš”ì²­: ${userId}`, { 
  nickname, status, 
  avatar: avatar ? 'avatar updated' : 'no avatar' 
});

// ë©”ëª¨ë¦¬ DB ì—…ë°ì´íŠ¸
if (user) {
  if (nickname) user.nickname = nickname;
  if (status) user.status = status;
  if (avatar) user.avatar = avatar;  // âœ… avatar í•„ë“œ ì²˜ë¦¬ ì¶”ê°€
  user.updatedAt = new Date();
}

// MongoDB ì—…ë°ì´íŠ¸
const updateData = {};
if (nickname) updateData.nickname = nickname;
if (status) updateData.status = status;
if (avatar) updateData.avatar = avatar;  // âœ… avatar í•„ë“œ ì²˜ë¦¬ ì¶”ê°€
```

##### ğŸ”§ í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì • (index.html)
```javascript
// Before: ë³µì¡í•œ ì¡°ê±´ë¬¸ìœ¼ë¡œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì„œë²„ ì—…ë°ì´íŠ¸ ê±´ë„ˆë›°ê¸°
const hasAvatarChange = profileData.avatar !== AppState.me?.avatar;
if (hasNicknameChange || hasStatusChange || (hasAvatarChange && !this.uppy?.getFiles().length && !this.selectedFile)) {

// After: ë‹¨ìˆœí•˜ê³  ëª…í™•í•œ ì¡°ê±´ë¬¸ + í•„ë“œ ì¼ê´€ì„± ê°œì„ 
const hasAvatarChange = profileData.avatar !== (AppState.me?.avatar || AppState.me?.profileImage);
if (hasNicknameChange || hasStatusChange || hasAvatarChange) {
```

#### ê¸°ìˆ ì  ê°œì„ ì‚¬í•­
- **ì™„ì „í•œ Avatar ë°ì´í„° íŒŒì´í”„ë¼ì¸**: í´ë¼ì´ì–¸íŠ¸ íŒŒì¼ ì—…ë¡œë“œ â†’ ì„œë²„ ì €ì¥ â†’ ì‹¤ì‹œê°„ ë™ê¸°í™”
- **í•„ë“œëª… ì¼ê´€ì„±**: `profileImage`ì™€ `avatar` í•„ë“œ ëª¨ë‘ ì§€ì›í•˜ëŠ” í˜¸í™˜ì„± ë¡œì§
- **ê²¬ê³ í•œ ì¡°ê±´ ë¡œì§**: ì´ë¯¸ì§€ ë³€ê²½ ì‹œì—ë„ ë°˜ë“œì‹œ ì„œë²„ ì—…ë°ì´íŠ¸ ì‹¤í–‰
- **í¬ê´„ì  ë¡œê¹…**: avatar ì—…ë°ì´íŠ¸ ê³¼ì • ì™„ì „ ì¶”ì  ê°€ëŠ¥

#### ë°°í¬ ìƒíƒœ
- âœ… **Git ì»¤ë°‹**: `542a21a` - "fix: í”„ë¡œí•„ ì´ë¯¸ì§€ ì €ì¥ ì˜¤ë¥˜ ìˆ˜ì •"
- âœ… **develop ë¸Œëœì¹˜**: ìë™ ìŠ¤í…Œì´ì§• ë°°í¬ ì™„ë£Œ
- âœ… **ìŠ¤í…Œì´ì§• ì„œë²„**: https://eastalk-staging.onrender.com ë°°í¬ ì™„ë£Œ

#### í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ ë° ì˜ˆìƒ ê²°ê³¼
**ğŸš€ í…ŒìŠ¤íŠ¸ ì ˆì°¨** (ìŠ¤í…Œì´ì§• ë°°í¬ 1-2ë¶„ í›„):
1. https://eastalk-staging.onrender.com ì ‘ì†
2. `ë‚˜ìš°ì°½` / `0809`ë¡œ ë¡œê·¸ì¸  
3. í”„ë¡œí•„ í¸ì§‘ â†’ ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ **ì €ì¥ ë²„íŠ¼ í´ë¦­**
4. âœ… **ì´ì œ ì €ì¥ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•´ì•¼ í•¨**

**ğŸ“‹ ì˜ˆìƒ ê²°ê³¼**:
- âœ… í”„ë¡œí•„ ì´ë¯¸ì§€ ì €ì¥ ì„±ê³µ ("í”„ë¡œí•„ ì €ì¥ ì™„ë£Œ" ë©”ì‹œì§€)
- âœ… í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ì´ë¯¸ì§€ ìœ ì§€  
- âœ… í—¤ë”ì™€ ì‚¬ì´ë“œë°”ì— ì´ë¯¸ì§€ ì •ìƒ í‘œì‹œ
- âœ… ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ë„ ë³€ê²½ëœ ì´ë¯¸ì§€ ì‹¤ì‹œê°„ í™•ì¸ ê°€ëŠ¥

#### ê¸°ìˆ ì  ì„±ê³¼
- **ê·¼ë³¸ ë¬¸ì œ í•´ê²°**: ì„œë²„ì—ì„œ avatar í•„ë“œë¥¼ ì™„ì „íˆ ë¬´ì‹œí•˜ë˜ ë¬¸ì œ í•´ê²°
- **ë°ì´í„° ë¬´ê²°ì„±**: í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê°„ avatar ë°ì´í„° ì™„ì „ ë™ê¸°í™”  
- **ì‚¬ìš©ì ê²½í—˜**: ë‹‰ë„¤ì„/ìƒíƒœë©”ì‹œì§€ì™€ ë™ì¼í•œ ìˆ˜ì¤€ì˜ ì´ë¯¸ì§€ ì €ì¥ ê¸°ëŠ¥
- **ì‹œìŠ¤í…œ ì•ˆì •ì„±**: ë©”ëª¨ë¦¬DB/MongoDB ëª¨ë“  í™˜ê²½ì—ì„œ avatar ì €ì¥ ì§€ì›

### 22. í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ 404 ì˜¤ë¥˜ ë””ë²„ê¹… ì‹œìŠ¤í…œ êµ¬ì¶• (2025-08-27 ì˜¤í›„)

#### ì¶”ê°€ ë¬¸ì œ ë°œê²¬ ë° ëŒ€ì‘ (2025-08-27 ì˜¤í›„ 13:50)
- **ìƒˆë¡œìš´ ë¬¸ì œ**: í”„ë¡œí•„ ì´ë¯¸ì§€ ì €ì¥ ìˆ˜ì • í›„, íŒŒì¼ ì—…ë¡œë“œ APIì—ì„œ 404 ì˜¤ë¥˜ ë°œìƒ
- **ì˜¤ë¥˜ ë©”ì‹œì§€**: 
  ```
  Failed to load resource: the server responded with a status of 404
  âŒ ê¸°ë³¸ íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨: Error: HTTP error! status: 404
  âŒ í”„ë¡œí•„ ì €ì¥ ì‹¤íŒ¨: Error: HTTP error! status: 404
  ```
- **ë°œìƒ ìœ„ì¹˜**: `/api/profile-upload` ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ ì‹œ
- **ì¶”ì • ì›ì¸**: ì„œë²„ì— ë¼ìš°íŠ¸ê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ê±°ë‚˜, multer ë¯¸ë“¤ì›¨ì–´ ì˜¤ë¥˜

#### êµ¬ì¶•ëœ ë””ë²„ê¹… ì‹œìŠ¤í…œ

##### ğŸ” í¬ê´„ì  ë””ë²„ê¹… ë¯¸ë“¤ì›¨ì–´ êµ¬í˜„
1. **API ìš”ì²­ ì¶”ì  ì‹œìŠ¤í…œ**
   ```javascript
   // ëª¨ë“  /api ìš”ì²­ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
   app.use('/api', (req, res, next) => {
     console.log(`ğŸ” API ìš”ì²­: ${req.method} ${req.path}`);
     console.log('ğŸ“‹ ìš”ì²­ í—¤ë”:', req.headers['content-type']);
     if (req.body && Object.keys(req.body).length > 0) {
       console.log('ğŸ“¦ ìš”ì²­ ë³¸ë¬¸:', req.body);
     }
     next();
   });
   ```

2. **404 ì˜¤ë¥˜ ì „ìš© ìºì¹˜ ì‹œìŠ¤í…œ**
   ```javascript
   // API 404 ì˜¤ë¥˜ ìƒì„¸ ë¶„ì„ ë° ëŒ€ì•ˆ ì œì‹œ
   app.use((req, res, next) => {
     if (req.path.startsWith('/api/')) {
       console.error(`âŒ 404 ì˜¤ë¥˜ - API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ: ${req.method} ${req.path}`);
       console.error('ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ API:', [
         'POST /api/profile-upload',
         'POST /api/upload', 
         'GET /api/messages/single/:messageId'
       ]);
       return res.status(404).json({ 
         success: false, 
         error: `API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${req.method} ${req.path}` 
       });
     }
     next();
   });
   ```

3. **ì„œë²„ ì‹œì‘ ê²€ì¦ ë¡œê¹…**
   ```javascript
   // ì„œë²„ ì‹œì‘ ì‹œ ë¼ìš°íŠ¸ ë“±ë¡ ìƒíƒœ í™•ì¸
   console.log('ğŸ“‹ ë“±ë¡ëœ API ë¼ìš°íŠ¸:');
   console.log('  - POST /api/profile-upload (í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ)');
   console.log('  - POST /api/upload (ë©”ì‹œì§€ ì´ë¯¸ì§€ ì—…ë¡œë“œ)');
   console.log('  - GET /api/messages/single/:messageId (ë‹¨ì¼ ë©”ì‹œì§€ ì¡°íšŒ)');
   ```

4. **ë¼ìš°íŠ¸ ë“±ë¡ ì¶”ì **
   ```javascript
   // í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ API
   console.log('ğŸ”§ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ API ë¼ìš°íŠ¸ ë“±ë¡ ì¤‘...');
   app.post('/api/profile-upload', profileUpload.single('image'), async (req, res) => {
     console.log('ğŸ“¤ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ìš”ì²­ ë°›ìŒ');
   ```

#### ë””ë²„ê¹… ëª©í‘œ ë° ë¶„ì„ ì‹œë‚˜ë¦¬ì˜¤

##### ğŸ¯ ì§„ë‹¨ ê°€ëŠ¥í•œ ë¬¸ì œ ìœ í˜•
1. **ë¼ìš°íŠ¸ ë¯¸ë“±ë¡ ì‹œë‚˜ë¦¬ì˜¤**
   - ì„œë²„ ë¡œê·¸: ë¼ìš°íŠ¸ ëª©ë¡ì— `/api/profile-upload` ëˆ„ë½
   - ì˜ˆìƒ ì¶œë ¥: "API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ" ë©”ì‹œì§€

2. **Multer ë¯¸ë“¤ì›¨ì–´ ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤**
   - ì„œë²„ ë¡œê·¸: API ìš”ì²­ì€ ë„ë‹¬í•˜ë‚˜ multer ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜
   - ì˜ˆìƒ ì¶œë ¥: multer ê´€ë ¨ êµ¬ì²´ì  ì˜¤ë¥˜ ë©”ì‹œì§€

3. **ì„œë²„ ë°°í¬ ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤**
   - ì„œë²„ ë¡œê·¸: ë¼ìš°íŠ¸ ë“±ë¡ì€ ë˜ì—ˆìœ¼ë‚˜ ìš”ì²­ì´ ë„ë‹¬í•˜ì§€ ì•ŠìŒ
   - ì˜ˆìƒ ì¶œë ¥: ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ë°°í¬ í™˜ê²½ ë¬¸ì œ

4. **í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ì˜¤ë¥˜ ì‹œë‚˜ë¦¬ì˜¤**
   - ì„œë²„ ë¡œê·¸: ì˜ëª»ëœ ê²½ë¡œë‚˜ ë©”ì„œë“œë¡œ ìš”ì²­
   - ì˜ˆìƒ ì¶œë ¥: ì‹¤ì œ ìš”ì²­ ê²½ë¡œì™€ ê¸°ëŒ€ ê²½ë¡œ ë¶ˆì¼ì¹˜

#### ê¸°ìˆ ì  ê°œì„ ì‚¬í•­
- **ì™„ì „í•œ ìš”ì²­-ì‘ë‹µ ì¶”ì **: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ë¶€í„° ì„œë²„ ì‘ë‹µê¹Œì§€ ì „ ê³¼ì • ë¡œê¹…
- **êµ¬ì¡°í™”ëœ ì˜¤ë¥˜ ë©”ì‹œì§€**: ê°œë°œì ì¹œí™”ì ì´ê³  ì•¡ì…˜ ê°€ëŠ¥í•œ ì˜¤ë¥˜ ì •ë³´ ì œê³µ
- **ìë™ ë¬¸ì œ ì§„ë‹¨**: ì¼ë°˜ì ì¸ ì›ì¸ë“¤ì„ ìë™ìœ¼ë¡œ ì²´í¬í•˜ê³  í•´ê²°ì±… ì œì‹œ
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ë””ë²„ê¹… ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”í•˜ë©´ì„œ ìµœëŒ€ ì •ë³´ ìˆ˜ì§‘

#### ë°°í¬ ìƒíƒœ
- âœ… **Git ì»¤ë°‹**: `dc56636` - "debug: í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ 404 ì˜¤ë¥˜ ë””ë²„ê¹…ì„ ìœ„í•œ ë¡œê¹… ì¶”ê°€"
- âœ… **develop ë¸Œëœì¹˜**: ë””ë²„ê¹… ì‹œìŠ¤í…œ push ì™„ë£Œ
- ğŸ”„ **ìŠ¤í…Œì´ì§• ë°°í¬**: ìë™ ë°°í¬ ì§„í–‰ ì¤‘
- â³ **í…ŒìŠ¤íŠ¸ ëŒ€ê¸°**: ë°°í¬ ì™„ë£Œ í›„ ì‹¤ì œ ì˜¤ë¥˜ ì›ì¸ íŒŒì•… ì˜ˆì •

#### ì˜ˆìƒ í…ŒìŠ¤íŠ¸ ê²°ê³¼
**ğŸ“Š ë””ë²„ê¹… ì¶œë ¥ ì˜ˆì‹œ:**
```
ğŸš€ Eastalk ì„œë²„ê°€ í¬íŠ¸ì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.
ğŸ”§ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ API ë¼ìš°íŠ¸ ë“±ë¡ ì¤‘...
ğŸ“‹ ë“±ë¡ëœ API ë¼ìš°íŠ¸:
  - POST /api/profile-upload (í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ)

[ì‚¬ìš©ì ìš”ì²­ ì‹œ]
ğŸ” API ìš”ì²­: POST /profile-upload
ğŸ“‹ ìš”ì²­ í—¤ë”: multipart/form-data
ğŸ“¤ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ìš”ì²­ ë°›ìŒ
```

#### ë‹¤ìŒ ë‹¨ê³„
1. **ìŠ¤í…Œì´ì§• ë°°í¬ ì™„ë£Œ** (1-2ë¶„ ëŒ€ê¸°)
2. **ì‹¤ì œ í…ŒìŠ¤íŠ¸**: https://eastalk-staging.onrender.comì—ì„œ í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œë„
3. **ë¡œê·¸ ë¶„ì„**: ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ Console íƒ­ í™•ì¸
4. **ê·¼ë³¸ ì›ì¸ íŒŒì•…**: ë””ë²„ê¹… ì¶œë ¥ì„ í†µí•œ ì •í™•í•œ ë¬¸ì œ ì§€ì  ì‹ë³„
5. **í•´ê²°ì±… ì ìš©**: ì›ì¸ì— ë”°ë¥¸ êµ¬ì²´ì  ìˆ˜ì •ì‚¬í•­ ì ìš©

---
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-08-27 ì˜¤í›„ 13:55  
**ë‹´ë‹¹ì**: Claude SuperClaude  
**ìƒíƒœ**: í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ 404 ì˜¤ë¥˜ ë””ë²„ê¹… ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ âœ…
